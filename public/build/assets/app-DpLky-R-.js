function _t(t,e){return function(){return t.apply(e,arguments)}}const{toString:cn}=Object.prototype,{getPrototypeOf:Ke}=Object,{iterator:we,toStringTag:Tt}=Symbol,Oe=(t=>e=>{const n=cn.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),H=t=>(t=t.toLowerCase(),e=>Oe(e)===t),Se=t=>e=>typeof e===t,{isArray:Y}=Array,te=Se("undefined");function un(t){return t!==null&&!te(t)&&t.constructor!==null&&!te(t.constructor)&&j(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const kt=H("ArrayBuffer");function dn(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&kt(t.buffer),e}const pn=Se("string"),j=Se("function"),Rt=Se("number"),Ee=t=>t!==null&&typeof t=="object",hn=t=>t===!0||t===!1,de=t=>{if(Oe(t)!=="object")return!1;const e=Ke(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Tt in t)&&!(we in t)},fn=H("Date"),mn=H("File"),gn=H("Blob"),vn=H("FileList"),bn=t=>Ee(t)&&j(t.pipe),yn=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||j(t.append)&&((e=Oe(t))==="formdata"||e==="object"&&j(t.toString)&&t.toString()==="[object FormData]"))},wn=H("URLSearchParams"),[On,Sn,En,An]=["ReadableStream","Request","Response","Headers"].map(H),Cn=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function se(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),Y(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let a;for(s=0;s<i;s++)a=o[s],e.call(null,t[a],a,t)}}function Lt(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const J=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ft=t=>!te(t)&&t!==J;function qe(){const{caseless:t}=Ft(this)&&this||{},e={},n=(s,r)=>{const o=t&&Lt(e,r)||r;de(e[o])&&de(s)?e[o]=qe(e[o],s):de(s)?e[o]=qe({},s):Y(s)?e[o]=s.slice():e[o]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&se(arguments[s],n);return e}const xn=(t,e,n,{allOwnKeys:s}={})=>(se(e,(r,o)=>{n&&j(r)?t[o]=_t(r,n):t[o]=r},{allOwnKeys:s}),t),_n=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Tn=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},kn=(t,e,n,s)=>{let r,o,i;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)i=r[o],(!s||s(i,t,e))&&!a[i]&&(e[i]=t[i],a[i]=!0);t=n!==!1&&Ke(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Rn=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},Ln=t=>{if(!t)return null;if(Y(t))return t;let e=t.length;if(!Rt(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Fn=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ke(Uint8Array)),In=(t,e)=>{const s=(t&&t[we]).call(t);let r;for(;(r=s.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},Nn=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},Pn=H("HTMLFormElement"),$n=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),Xe=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),jn=H("RegExp"),It=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};se(n,(r,o)=>{let i;(i=e(r,o,t))!==!1&&(s[o]=i||r)}),Object.defineProperties(t,s)},qn=t=>{It(t,(e,n)=>{if(j(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(j(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Dn=(t,e)=>{const n={},s=r=>{r.forEach(o=>{n[o]=!0})};return Y(t)?s(t):s(String(t).split(e)),n},Bn=()=>{},Hn=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Mn(t){return!!(t&&j(t.append)&&t[Tt]==="FormData"&&t[we])}const Un=t=>{const e=new Array(10),n=(s,r)=>{if(Ee(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[r]=s;const o=Y(s)?[]:{};return se(s,(i,a)=>{const c=n(i,r+1);!te(c)&&(o[a]=c)}),e[r]=void 0,o}}return s};return n(t,0)},Vn=H("AsyncFunction"),zn=t=>t&&(Ee(t)||j(t))&&j(t.then)&&j(t.catch),Nt=((t,e)=>t?setImmediate:e?((n,s)=>(J.addEventListener("message",({source:r,data:o})=>{r===J&&o===n&&s.length&&s.shift()()},!1),r=>{s.push(r),J.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",j(J.postMessage)),Kn=typeof queueMicrotask<"u"?queueMicrotask.bind(J):typeof process<"u"&&process.nextTick||Nt,Jn=t=>t!=null&&j(t[we]),d={isArray:Y,isArrayBuffer:kt,isBuffer:un,isFormData:yn,isArrayBufferView:dn,isString:pn,isNumber:Rt,isBoolean:hn,isObject:Ee,isPlainObject:de,isReadableStream:On,isRequest:Sn,isResponse:En,isHeaders:An,isUndefined:te,isDate:fn,isFile:mn,isBlob:gn,isRegExp:jn,isFunction:j,isStream:bn,isURLSearchParams:wn,isTypedArray:Fn,isFileList:vn,forEach:se,merge:qe,extend:xn,trim:Cn,stripBOM:_n,inherits:Tn,toFlatObject:kn,kindOf:Oe,kindOfTest:H,endsWith:Rn,toArray:Ln,forEachEntry:In,matchAll:Nn,isHTMLForm:Pn,hasOwnProperty:Xe,hasOwnProp:Xe,reduceDescriptors:It,freezeMethods:qn,toObjectSet:Dn,toCamelCase:$n,noop:Bn,toFiniteNumber:Hn,findKey:Lt,global:J,isContextDefined:Ft,isSpecCompliantForm:Mn,toJSONObject:Un,isAsyncFn:Vn,isThenable:zn,setImmediate:Nt,asap:Kn,isIterable:Jn};function S(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}d.inherits(S,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:d.toJSONObject(this.config),code:this.code,status:this.status}}});const Pt=S.prototype,$t={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{$t[t]={value:t}});Object.defineProperties(S,$t);Object.defineProperty(Pt,"isAxiosError",{value:!0});S.from=(t,e,n,s,r,o)=>{const i=Object.create(Pt);return d.toFlatObject(t,i,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),S.call(i,t.message,e,n,s,r),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};const Wn=null;function De(t){return d.isPlainObject(t)||d.isArray(t)}function jt(t){return d.endsWith(t,"[]")?t.slice(0,-2):t}function Qe(t,e,n){return t?t.concat(e).map(function(r,o){return r=jt(r),!n&&o?"["+r+"]":r}).join(n?".":""):e}function Gn(t){return d.isArray(t)&&!t.some(De)}const Xn=d.toFlatObject(d,{},null,function(e){return/^is[A-Z]/.test(e)});function Ae(t,e,n){if(!d.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=d.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,m){return!d.isUndefined(m[g])});const s=n.metaTokens,r=n.visitor||u,o=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&d.isSpecCompliantForm(e);if(!d.isFunction(r))throw new TypeError("visitor must be a function");function l(h){if(h===null)return"";if(d.isDate(h))return h.toISOString();if(d.isBoolean(h))return h.toString();if(!c&&d.isBlob(h))throw new S("Blob is not supported. Use a Buffer instead.");return d.isArrayBuffer(h)||d.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function u(h,g,m){let b=h;if(h&&!m&&typeof h=="object"){if(d.endsWith(g,"{}"))g=s?g:g.slice(0,-2),h=JSON.stringify(h);else if(d.isArray(h)&&Gn(h)||(d.isFileList(h)||d.endsWith(g,"[]"))&&(b=d.toArray(h)))return g=jt(g),b.forEach(function(O,k){!(d.isUndefined(O)||O===null)&&e.append(i===!0?Qe([g],k,o):i===null?g:g+"[]",l(O))}),!1}return De(h)?!0:(e.append(Qe(m,g,o),l(h)),!1)}const p=[],f=Object.assign(Xn,{defaultVisitor:u,convertValue:l,isVisitable:De});function y(h,g){if(!d.isUndefined(h)){if(p.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));p.push(h),d.forEach(h,function(b,v){(!(d.isUndefined(b)||b===null)&&r.call(e,b,d.isString(v)?v.trim():v,g,f))===!0&&y(b,g?g.concat(v):[v])}),p.pop()}}if(!d.isObject(t))throw new TypeError("data must be an object");return y(t),e}function Ye(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Je(t,e){this._pairs=[],t&&Ae(t,this,e)}const qt=Je.prototype;qt.append=function(e,n){this._pairs.push([e,n])};qt.toString=function(e){const n=e?function(s){return e.call(this,s,Ye)}:Ye;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Qn(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Dt(t,e,n){if(!e)return t;const s=n&&n.encode||Qn;d.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let o;if(r?o=r(e,n):o=d.isURLSearchParams(e)?e.toString():new Je(e,n).toString(s),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Ze{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){d.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Bt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yn=typeof URLSearchParams<"u"?URLSearchParams:Je,Zn=typeof FormData<"u"?FormData:null,es=typeof Blob<"u"?Blob:null,ts={isBrowser:!0,classes:{URLSearchParams:Yn,FormData:Zn,Blob:es},protocols:["http","https","file","blob","url","data"]},We=typeof window<"u"&&typeof document<"u",Be=typeof navigator=="object"&&navigator||void 0,ns=We&&(!Be||["ReactNative","NativeScript","NS"].indexOf(Be.product)<0),ss=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rs=We&&window.location.href||"http://localhost",is=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:We,hasStandardBrowserEnv:ns,hasStandardBrowserWebWorkerEnv:ss,navigator:Be,origin:rs},Symbol.toStringTag,{value:"Module"})),I={...is,...ts};function os(t,e){return Ae(t,new I.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,o){return I.isNode&&d.isBuffer(n)?(this.append(s,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function as(t){return d.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ls(t){const e={},n=Object.keys(t);let s;const r=n.length;let o;for(s=0;s<r;s++)o=n[s],e[o]=t[o];return e}function Ht(t){function e(n,s,r,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),c=o>=n.length;return i=!i&&d.isArray(r)?r.length:i,c?(d.hasOwnProp(r,i)?r[i]=[r[i],s]:r[i]=s,!a):((!r[i]||!d.isObject(r[i]))&&(r[i]=[]),e(n,s,r[i],o)&&d.isArray(r[i])&&(r[i]=ls(r[i])),!a)}if(d.isFormData(t)&&d.isFunction(t.entries)){const n={};return d.forEachEntry(t,(s,r)=>{e(as(s),r,n,0)}),n}return null}function cs(t,e,n){if(d.isString(t))try{return(e||JSON.parse)(t),d.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const re={transitional:Bt,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,o=d.isObject(e);if(o&&d.isHTMLForm(e)&&(e=new FormData(e)),d.isFormData(e))return r?JSON.stringify(Ht(e)):e;if(d.isArrayBuffer(e)||d.isBuffer(e)||d.isStream(e)||d.isFile(e)||d.isBlob(e)||d.isReadableStream(e))return e;if(d.isArrayBufferView(e))return e.buffer;if(d.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return os(e,this.formSerializer).toString();if((a=d.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ae(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),cs(e)):e}],transformResponse:[function(e){const n=this.transitional||re.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(d.isResponse(e)||d.isReadableStream(e))return e;if(e&&d.isString(e)&&(s&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?S.from(a,S.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:I.classes.FormData,Blob:I.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};d.forEach(["delete","get","head","post","put","patch"],t=>{re.headers[t]={}});const us=d.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ds=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(i){r=i.indexOf(":"),n=i.substring(0,r).trim().toLowerCase(),s=i.substring(r+1).trim(),!(!n||e[n]&&us[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},et=Symbol("internals");function ee(t){return t&&String(t).trim().toLowerCase()}function pe(t){return t===!1||t==null?t:d.isArray(t)?t.map(pe):String(t)}function ps(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const hs=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Te(t,e,n,s,r){if(d.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!d.isString(e)){if(d.isString(s))return e.indexOf(s)!==-1;if(d.isRegExp(s))return s.test(e)}}function fs(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function ms(t,e){const n=d.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,o,i){return this[s].call(this,e,r,o,i)},configurable:!0})})}let q=class{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function o(a,c,l){const u=ee(c);if(!u)throw new Error("header name must be a non-empty string");const p=d.findKey(r,u);(!p||r[p]===void 0||l===!0||l===void 0&&r[p]!==!1)&&(r[p||c]=pe(a))}const i=(a,c)=>d.forEach(a,(l,u)=>o(l,u,c));if(d.isPlainObject(e)||e instanceof this.constructor)i(e,n);else if(d.isString(e)&&(e=e.trim())&&!hs(e))i(ds(e),n);else if(d.isObject(e)&&d.isIterable(e)){let a={},c,l;for(const u of e){if(!d.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[l=u[0]]=(c=a[l])?d.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(a,n)}else e!=null&&o(n,e,s);return this}get(e,n){if(e=ee(e),e){const s=d.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return ps(r);if(d.isFunction(n))return n.call(this,r,s);if(d.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ee(e),e){const s=d.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Te(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function o(i){if(i=ee(i),i){const a=d.findKey(s,i);a&&(!n||Te(s,s[a],a,n))&&(delete s[a],r=!0)}}return d.isArray(e)?e.forEach(o):o(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const o=n[s];(!e||Te(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const n=this,s={};return d.forEach(this,(r,o)=>{const i=d.findKey(s,o);if(i){n[i]=pe(r),delete n[o];return}const a=e?fs(o):String(o).trim();a!==o&&delete n[o],n[a]=pe(r),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return d.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&d.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[et]=this[et]={accessors:{}}).accessors,r=this.prototype;function o(i){const a=ee(i);s[a]||(ms(r,i),s[a]=!0)}return d.isArray(e)?e.forEach(o):o(e),this}};q.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);d.reduceDescriptors(q.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});d.freezeMethods(q);function ke(t,e){const n=this||re,s=e||n,r=q.from(s.headers);let o=s.data;return d.forEach(t,function(a){o=a.call(n,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function Mt(t){return!!(t&&t.__CANCEL__)}function Z(t,e,n){S.call(this,t??"canceled",S.ERR_CANCELED,e,n),this.name="CanceledError"}d.inherits(Z,S,{__CANCEL__:!0});function Ut(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new S("Request failed with status code "+n.status,[S.ERR_BAD_REQUEST,S.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function gs(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function vs(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,o=0,i;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),u=s[o];i||(i=l),n[r]=c,s[r]=l;let p=o,f=0;for(;p!==r;)f+=n[p++],p=p%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),l-i<e)return;const y=u&&l-u;return y?Math.round(f*1e3/y):void 0}}function bs(t,e){let n=0,s=1e3/e,r,o;const i=(l,u=Date.now())=>{n=u,r=null,o&&(clearTimeout(o),o=null),t.apply(null,l)};return[(...l)=>{const u=Date.now(),p=u-n;p>=s?i(l,u):(r=l,o||(o=setTimeout(()=>{o=null,i(r)},s-p)))},()=>r&&i(r)]}const me=(t,e,n=3)=>{let s=0;const r=vs(50,250);return bs(o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,c=i-s,l=r(c),u=i<=a;s=i;const p={loaded:i,total:a,progress:a?i/a:void 0,bytes:c,rate:l||void 0,estimated:l&&a&&u?(a-i)/l:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(p)},n)},tt=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},nt=t=>(...e)=>d.asap(()=>t(...e)),ys=I.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,I.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(I.origin),I.navigator&&/(msie|trident)/i.test(I.navigator.userAgent)):()=>!0,ws=I.hasStandardBrowserEnv?{write(t,e,n,s,r,o){const i=[t+"="+encodeURIComponent(e)];d.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),d.isString(s)&&i.push("path="+s),d.isString(r)&&i.push("domain="+r),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Os(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ss(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Vt(t,e,n){let s=!Os(e);return t&&(s||n==!1)?Ss(t,e):e}const st=t=>t instanceof q?{...t}:t;function G(t,e){e=e||{};const n={};function s(l,u,p,f){return d.isPlainObject(l)&&d.isPlainObject(u)?d.merge.call({caseless:f},l,u):d.isPlainObject(u)?d.merge({},u):d.isArray(u)?u.slice():u}function r(l,u,p,f){if(d.isUndefined(u)){if(!d.isUndefined(l))return s(void 0,l,p,f)}else return s(l,u,p,f)}function o(l,u){if(!d.isUndefined(u))return s(void 0,u)}function i(l,u){if(d.isUndefined(u)){if(!d.isUndefined(l))return s(void 0,l)}else return s(void 0,u)}function a(l,u,p){if(p in e)return s(l,u);if(p in t)return s(void 0,l)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(l,u,p)=>r(st(l),st(u),p,!0)};return d.forEach(Object.keys(Object.assign({},t,e)),function(u){const p=c[u]||r,f=p(t[u],e[u],u);d.isUndefined(f)&&p!==a||(n[u]=f)}),n}const zt=t=>{const e=G({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:o,headers:i,auth:a}=e;e.headers=i=q.from(i),e.url=Dt(Vt(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(d.isFormData(n)){if(I.hasStandardBrowserEnv||I.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[l,...u]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];i.setContentType([l||"multipart/form-data",...u].join("; "))}}if(I.hasStandardBrowserEnv&&(s&&d.isFunction(s)&&(s=s(e)),s||s!==!1&&ys(e.url))){const l=r&&o&&ws.read(o);l&&i.set(r,l)}return e},Es=typeof XMLHttpRequest<"u",As=Es&&function(t){return new Promise(function(n,s){const r=zt(t);let o=r.data;const i=q.from(r.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:l}=r,u,p,f,y,h;function g(){y&&y(),h&&h(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let m=new XMLHttpRequest;m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout;function b(){if(!m)return;const O=q.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:O,config:t,request:m};Ut(function(w){n(w),g()},function(w){s(w),g()},R),m=null}"onloadend"in m?m.onloadend=b:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(b)},m.onabort=function(){m&&(s(new S("Request aborted",S.ECONNABORTED,t,m)),m=null)},m.onerror=function(){s(new S("Network Error",S.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let k=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const R=r.transitional||Bt;r.timeoutErrorMessage&&(k=r.timeoutErrorMessage),s(new S(k,R.clarifyTimeoutError?S.ETIMEDOUT:S.ECONNABORTED,t,m)),m=null},o===void 0&&i.setContentType(null),"setRequestHeader"in m&&d.forEach(i.toJSON(),function(k,R){m.setRequestHeader(R,k)}),d.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),a&&a!=="json"&&(m.responseType=r.responseType),l&&([f,h]=me(l,!0),m.addEventListener("progress",f)),c&&m.upload&&([p,y]=me(c),m.upload.addEventListener("progress",p),m.upload.addEventListener("loadend",y)),(r.cancelToken||r.signal)&&(u=O=>{m&&(s(!O||O.type?new Z(null,t,m):O),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const v=gs(r.url);if(v&&I.protocols.indexOf(v)===-1){s(new S("Unsupported protocol "+v+":",S.ERR_BAD_REQUEST,t));return}m.send(o||null)})},Cs=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const o=function(l){if(!r){r=!0,a();const u=l instanceof Error?l:this.reason;s.abort(u instanceof S?u:new Z(u instanceof Error?u.message:u))}};let i=e&&setTimeout(()=>{i=null,o(new S(`timeout ${e} of ms exceeded`,S.ETIMEDOUT))},e);const a=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(o):l.removeEventListener("abort",o)}),t=null)};t.forEach(l=>l.addEventListener("abort",o));const{signal:c}=s;return c.unsubscribe=()=>d.asap(a),c}},xs=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},_s=async function*(t,e){for await(const n of Ts(t))yield*xs(n,e)},Ts=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},rt=(t,e,n,s)=>{const r=_s(t,e);let o=0,i,a=c=>{i||(i=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:l,value:u}=await r.next();if(l){a(),c.close();return}let p=u.byteLength;if(n){let f=o+=p;n(f)}c.enqueue(new Uint8Array(u))}catch(l){throw a(l),l}},cancel(c){return a(c),r.return()}},{highWaterMark:2})},Ce=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Kt=Ce&&typeof ReadableStream=="function",ks=Ce&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Jt=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Rs=Kt&&Jt(()=>{let t=!1;const e=new Request(I.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),it=64*1024,He=Kt&&Jt(()=>d.isReadableStream(new Response("").body)),ge={stream:He&&(t=>t.body)};Ce&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ge[e]&&(ge[e]=d.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new S(`Response type '${e}' is not supported`,S.ERR_NOT_SUPPORT,s)})})})(new Response);const Ls=async t=>{if(t==null)return 0;if(d.isBlob(t))return t.size;if(d.isSpecCompliantForm(t))return(await new Request(I.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(d.isArrayBufferView(t)||d.isArrayBuffer(t))return t.byteLength;if(d.isURLSearchParams(t)&&(t=t+""),d.isString(t))return(await ks(t)).byteLength},Fs=async(t,e)=>{const n=d.toFiniteNumber(t.getContentLength());return n??Ls(e)},Is=Ce&&(async t=>{let{url:e,method:n,data:s,signal:r,cancelToken:o,timeout:i,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:u,withCredentials:p="same-origin",fetchOptions:f}=zt(t);l=l?(l+"").toLowerCase():"text";let y=Cs([r,o&&o.toAbortSignal()],i),h;const g=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let m;try{if(c&&Rs&&n!=="get"&&n!=="head"&&(m=await Fs(u,s))!==0){let R=new Request(e,{method:"POST",body:s,duplex:"half"}),N;if(d.isFormData(s)&&(N=R.headers.get("content-type"))&&u.setContentType(N),R.body){const[w,A]=tt(m,me(nt(c)));s=rt(R.body,it,w,A)}}d.isString(p)||(p=p?"include":"omit");const b="credentials"in Request.prototype;h=new Request(e,{...f,signal:y,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:b?p:void 0});let v=await fetch(h,f);const O=He&&(l==="stream"||l==="response");if(He&&(a||O&&g)){const R={};["status","statusText","headers"].forEach(E=>{R[E]=v[E]});const N=d.toFiniteNumber(v.headers.get("content-length")),[w,A]=a&&tt(N,me(nt(a),!0))||[];v=new Response(rt(v.body,it,w,()=>{A&&A(),g&&g()}),R)}l=l||"text";let k=await ge[d.findKey(ge,l)||"text"](v,t);return!O&&g&&g(),await new Promise((R,N)=>{Ut(R,N,{data:k,headers:q.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:h})})}catch(b){throw g&&g(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new S("Network Error",S.ERR_NETWORK,t,h),{cause:b.cause||b}):S.from(b,b&&b.code,t,h)}}),Me={http:Wn,xhr:As,fetch:Is};d.forEach(Me,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ot=t=>`- ${t}`,Ns=t=>d.isFunction(t)||t===null||t===!1,Wt={getAdapter:t=>{t=d.isArray(t)?t:[t];const{length:e}=t;let n,s;const r={};for(let o=0;o<e;o++){n=t[o];let i;if(s=n,!Ns(n)&&(s=Me[(i=String(n)).toLowerCase()],s===void 0))throw new S(`Unknown adapter '${i}'`);if(s)break;r[i||"#"+o]=s}if(!s){const o=Object.entries(r).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=e?o.length>1?`since :
`+o.map(ot).join(`
`):" "+ot(o[0]):"as no adapter specified";throw new S("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:Me};function Re(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Z(null,t)}function at(t){return Re(t),t.headers=q.from(t.headers),t.data=ke.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Wt.getAdapter(t.adapter||re.adapter)(t).then(function(s){return Re(t),s.data=ke.call(t,t.transformResponse,s),s.headers=q.from(s.headers),s},function(s){return Mt(s)||(Re(t),s&&s.response&&(s.response.data=ke.call(t,t.transformResponse,s.response),s.response.headers=q.from(s.response.headers))),Promise.reject(s)})}const Gt="1.10.0",xe={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{xe[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const lt={};xe.transitional=function(e,n,s){function r(o,i){return"[Axios v"+Gt+"] Transitional option '"+o+"'"+i+(s?". "+s:"")}return(o,i,a)=>{if(e===!1)throw new S(r(i," has been removed"+(n?" in "+n:"")),S.ERR_DEPRECATED);return n&&!lt[i]&&(lt[i]=!0,console.warn(r(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,i,a):!0}};xe.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function Ps(t,e,n){if(typeof t!="object")throw new S("options must be an object",S.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const o=s[r],i=e[o];if(i){const a=t[o],c=a===void 0||i(a,o,t);if(c!==!0)throw new S("option "+o+" must be "+c,S.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new S("Unknown option "+o,S.ERR_BAD_OPTION)}}const he={assertOptions:Ps,validators:xe},M=he.validators;let W=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ze,response:new Ze}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=G(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:o}=n;s!==void 0&&he.assertOptions(s,{silentJSONParsing:M.transitional(M.boolean),forcedJSONParsing:M.transitional(M.boolean),clarifyTimeoutError:M.transitional(M.boolean)},!1),r!=null&&(d.isFunction(r)?n.paramsSerializer={serialize:r}:he.assertOptions(r,{encode:M.function,serialize:M.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),he.assertOptions(n,{baseUrl:M.spelling("baseURL"),withXsrfToken:M.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&d.merge(o.common,o[n.method]);o&&d.forEach(["delete","get","head","post","put","patch","common"],h=>{delete o[h]}),n.headers=q.concat(i,o);const a=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(c=c&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const l=[];this.interceptors.response.forEach(function(g){l.push(g.fulfilled,g.rejected)});let u,p=0,f;if(!c){const h=[at.bind(this),void 0];for(h.unshift.apply(h,a),h.push.apply(h,l),f=h.length,u=Promise.resolve(n);p<f;)u=u.then(h[p++],h[p++]);return u}f=a.length;let y=n;for(p=0;p<f;){const h=a[p++],g=a[p++];try{y=h(y)}catch(m){g.call(this,m);break}}try{u=at.call(this,y)}catch(h){return Promise.reject(h)}for(p=0,f=l.length;p<f;)u=u.then(l[p++],l[p++]);return u}getUri(e){e=G(this.defaults,e);const n=Vt(e.baseURL,e.url,e.allowAbsoluteUrls);return Dt(n,e.params,e.paramsSerializer)}};d.forEach(["delete","get","head","options"],function(e){W.prototype[e]=function(n,s){return this.request(G(s||{},{method:e,url:n,data:(s||{}).data}))}});d.forEach(["post","put","patch"],function(e){function n(s){return function(o,i,a){return this.request(G(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}W.prototype[e]=n(),W.prototype[e+"Form"]=n(!0)});let $s=class Xt{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const i=new Promise(a=>{s.subscribe(a),o=a}).then(r);return i.cancel=function(){s.unsubscribe(o)},i},e(function(o,i,a){s.reason||(s.reason=new Z(o,i,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Xt(function(r){e=r}),cancel:e}}};function js(t){return function(n){return t.apply(null,n)}}function qs(t){return d.isObject(t)&&t.isAxiosError===!0}const Ue={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ue).forEach(([t,e])=>{Ue[e]=t});function Qt(t){const e=new W(t),n=_t(W.prototype.request,e);return d.extend(n,W.prototype,e,{allOwnKeys:!0}),d.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return Qt(G(t,r))},n}const T=Qt(re);T.Axios=W;T.CanceledError=Z;T.CancelToken=$s;T.isCancel=Mt;T.VERSION=Gt;T.toFormData=Ae;T.AxiosError=S;T.Cancel=T.CanceledError;T.all=function(e){return Promise.all(e)};T.spread=js;T.isAxiosError=qs;T.mergeConfig=G;T.AxiosHeaders=q;T.formToJSON=t=>Ht(d.isHTMLForm(t)?new FormData(t):t);T.getAdapter=Wt.getAdapter;T.HttpStatusCode=Ue;T.default=T;const{Axios:Ki,AxiosError:Ji,CanceledError:Wi,isCancel:Gi,CancelToken:Xi,VERSION:Qi,all:Yi,Cancel:Zi,isAxiosError:eo,spread:to,toFormData:no,AxiosHeaders:so,HttpStatusCode:ro,formToJSON:io,getAdapter:oo,mergeConfig:ao}=T;window.axios=T;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Ds=Object.defineProperty,Bs=(t,e,n)=>e in t?Ds(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Q=(t,e,n)=>Bs(t,typeof e!="symbol"?e+"":e,n);document.addEventListener("alpine:init",()=>{window.Alpine.store("editOnClickValidation",{pending:[],set(t,e){this.pending=this.pending.filter(n=>n.value!==t),this.pending.push({value:t,textContent:e})},has(t){return this.pending.some(e=>e.value===t)},get(t){return this.pending.find(e=>e.value===t)},notContains(t){return this.pending.length>0&&!this.has(t)},clear(){this.pending=[]},getTextContent(t){const e=this.pending.find(n=>n.value===t);return e?e.textContent:null}}),window.editOnClickValidation=window.Alpine.store("editOnClickValidation")});document.addEventListener("alpine:init",()=>{window.Alpine.store("pgBulkActions",{selected:[],init(){window.addEventListener("pgBulkActions::addMore",t=>{const e=t.__livewire.params[0];typeof this.selected[e.tableName]>"u"&&(this.selected[e.tableName]=[]),this.selected[e.tableName].push(e.value)}),window.addEventListener("pgBulkActions::clear",t=>{this.clear(t.detail)}),window.addEventListener("pgBulkActions::clearAll",()=>{this.clearAll()})},add(t,e){if(typeof this.selected[e]>"u"&&(this.selected[e]=[]),!this.selected[e].includes(t)){this.selected[e].push(t);return}this.remove(t,e)},remove(t,e){const n=this.selected[e].indexOf(t);n>-1&&this.selected[e].splice(n,1)},get(t){return this.selected[t]??""},count(t){return typeof this.selected[t]>"u"?0:this.selected[t].length},clear(t){this.selected[t]=[]},clearAll(){this.selected=[]}}),window.pgBulkActions=window.Alpine.store("pgBulkActions")});const Hs=t=>({field:t.field??null,tableName:t.tableName??null,enabled:t.enabled??!1,id:t.id,trueValue:t.trueValue,falseValue:t.falseValue,toggle:t.toggle,save(){this.toggle=this.toggle===0?1:0,this.$wire.dispatch("pg:toggleable-"+this.tableName,{id:this.id,field:this.field,value:this.toggle})}}),Ms=(t,e,n)=>{const s=t[e];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((r,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},Us=t=>({dataField:t.dataField,tableName:t.tableName,label:t.label??null,locale:t.locale??{locale:"default",dateFormat:"Y-m-d H:i",time_24hr:!1,enableTime:!0},onlyFuture:t.onlyFuture??!1,noWeekEnds:t.noWeekEnds??!1,customConfig:t.customConfig??null,type:t.type,element:null,selectedDates:null,async init(){typeof flatpickr>"u"&&(console.log("%c%s","color: #f59e0c; font-size: 1.2em; font-weight: bold; line-height: 1.5"," PowerGrid"),console.error("%c%s","font-size: 1em; line-height: 1.5",`
Failed to mount filter: Filter::datetime('${this.dataField}') on table ['${this.tableName}']

• Install flatpickr: npm install flatpickr

• Add 'import flatpickr from "flatpickr"' in resources/js/app.js file
  `)),window.addEventListener(`pg:clear_flatpickr::${this.tableName}:${this.dataField}`,()=>{this.$refs.rangeInput&&this.element&&this.element.clear()}),window.addEventListener(`pg:clear_all_flatpickr::${this.tableName}`,()=>{this.$refs.rangeInput&&this.element&&this.element.clear()});try{const n=await Ms(Object.assign({}),`./flatpickr/dist/l10n/${this.locale.locale}.js`,5);flatpickr.localize(n.default||n)}catch{}const e=this.getOptions();this.$refs.rangeInput&&typeof flatpickr<"u"&&(this.element=flatpickr(this.$refs.rangeInput,e),this.selectedDates=this.$wire.get(`filters.${this.type}.${this.dataField}.formatted`),this.element.setDate(this.selectedDates))},getOptions(){const e={mode:"range",defaultHour:0,...this.locale,...this.customConfig};return this.onlyFuture&&(e.minDate="today"),this.noWeekEnds&&(e.disable=[function(n){return n.getDay()===0||n.getDay()===6}]),e.onClose=(n,s,r)=>{n=n.map(o=>this.element.formatDate(o,"Y-m-d")),n.length>0&&this.selectedDates!==s&&Livewire.dispatch("pg:datePicker-"+this.tableName,{selectedDates:n,dateStr:s,timezone:this.customConfig.timezone??new Date().toString().match(/([-\+][0-9]+)\s/)[1],type:this.type,field:this.dataField,label:this.label})},e}}),Vs=t=>({theme:t.theme,id:t.id??null,dataField:t.dataField??null,content:t.content,fallback:t.fallback,inputClass:t.inputClass,saveOnMouseOut:t.saveOnMouseOut,oldContent:null,editable:!1,hash:null,hashError:!0,showEditable:!1,editableInput:"",init(){this.content.length===0&&this.fallback&&(this.content=this.htmlSpecialChars(this.fallback)),this.hash=this.dataField+"-"+this.id,window.addEventListener("toggle-"+this.hash,()=>{this.observe(()=>document.getElementById("clickable-"+this.hash),e=>{e.click(),this.observe(()=>document.getElementById("editable-"+this.hash),n=>{setTimeout(()=>this.setFocusToEnd(n),100)})})}),this.$watch("editable",e=>{if(e){let n=!1;if(this.showEditable=!1,this.content=this.htmlSpecialChars(this.content),this.oldContent=this.content,this.hashError=this.store().notContains(this.hash),this.observe(()=>document.getElementById("editable-"+this.hash),s=>{setTimeout(()=>{this.setFocusToEnd(s),this.store().getTextContent(this.hash)&&(s.textContent=this.store().getTextContent(this.hash))},30)}),this.hashError){const s=this.store().get(this.hash),r=document.getElementById("clickable-"+s);r&&r.click()}n=!0,this.editableInput=`
                <div
                    x-ref="editable"
                    x-text="content"
                    value="${this.content}"
                    placeholder="${this.content}"
                    contenteditable
                    class="pg-single-line ${this.inputClass}"
                    ${this.saveOnMouseOut?'x-on:mousedown.outside="save()"':""}
                    x-on:keydown.enter="save()"
                    id="${"editable-"+this.dataField+"-"+this.id}"
                    x-on:keydown.esc="cancel"
                >
                </div>`,this.$nextTick(()=>setTimeout(()=>{this.showEditable=n,this.focus()},150))}}),this.content=this.htmlSpecialChars(this.content)},store(){return window.editOnClickValidation},save(){this.store().clear(),this.store().set(this.hash,this.$el.textContent),this.observe(()=>document.getElementById("clickable-"+this.hash),e=>{e.textContent=this.$el.textContent}),window.addEventListener("pg:editable-close-"+this.id,()=>{this.store().clear(),this.editable=!1,this.showEditable=!1}),this.store().has(this.hash)||this.store().set(this.hash,this.$el.textContent),this.$wire.dispatch("pg:editable-"+this.$wire.tableName,{id:this.id,value:this.$el.textContent,field:this.dataField}),this.oldContent=this.store().getTextContent(this.hash),this.$nextTick(()=>{this.focus(),this.$el.setAttribute("value","")}),this.content=this.htmlSpecialChars(this.$el.textContent)},focus(){this.setFocusToEnd(this.$el)},cancel(){this.store().clear(),this.$refs.editable.textContent=this.oldContent,this.content=this.oldContent,this.editable=!1,this.showEditable=!1,this.$refs.error&&(this.$refs.error.innerHTML="")},htmlSpecialChars(e){const n=document.createElement("div");return n.innerHTML=e,n.textContent},observe(e,n){new MutationObserver((s,r)=>{for(let o of s)if(o.type==="childList"){const i=e();if(i){n(i),r.disconnect();break}}}).observe(document.body,{childList:!0,subtree:!0})},setFocusToEnd(e){if(!e)return;const n=window.getSelection(),s=document.createRange();s.selectNodeContents(e),s.collapse(!1),n.removeAllRanges(),n.addRange(s),e.focus()}});function zs(t){t.querySelectorAll("tbody tr td").forEach(e=>{e.classList.remove("hidden")}),t.querySelectorAll("thead tr th").forEach(e=>{e.classList.remove("hidden")})}function Ks(t){let e=0;const n=t.querySelectorAll("table thead tr:nth-child(1) th[fixed]"),s=Ve(t);return n.forEach(r=>{e+=Ve(r)}),s-e}function Js(t,e){const n=[].slice.call(t.querySelectorAll("table thead tr:nth-child(1) th")),s=[].slice.call(n).sort(function(a,c){const l=a.getAttribute("sort_order")??999,u=c.getAttribute("sort_order")??999;return l-u});let r=0,o=!0;const i=[];return s.forEach(a=>{const c=Ve(a);a.getAttribute("fixed")===null&&(o&&r<=e&&r+c<=e?r+=c:(i.push(n.indexOf(a)+1),o=!1))}),i}function Ws(t,e){for(const n of e)t.querySelectorAll(`tbody:not(tbody[expand]) tr td:nth-child(${n})`).forEach(s=>{s.classList.add("hidden")}),t.querySelectorAll(`thead tr th:nth-child(${n})`).forEach(s=>{s.classList.add("hidden")})}function Gs(t,e){var n,s;if(t.querySelectorAll("table tbody[expand] tr td div").length){for(const r of t.querySelectorAll("table tbody[expand] tr td div"))r.innerHTML="";if(e.length)for(const r of e){const o=t.querySelectorAll("table tbody:not(tbody[expand])");for(const i of o){const a=(n=i.nextElementSibling)==null?void 0:n.querySelector("tr td div");if(!a)continue;let c=t.querySelector(`table thead tr th:nth-child(${r}) span[data-value]`).textContent;const l=(s=i.querySelector(`tr:last-child td:nth-child(${r})`))==null?void 0:s.innerHTML;c.length&&(c+=":"),a.querySelector(`div[data-expand-item-${r}]`)||(a.innerHTML+=`<div class="responsive-row-expand-item-container" data-expand-item-${r}>
                    <span class="font-bold responsive-row-expand-item-name">${c}</span>
                    <span class="responsive-row-expand-item-value">${l}</span>
                </div>`)}}}}function Ve(t){return parseFloat(t.getBoundingClientRect().width.toFixed(2))}function Xs(t){zs(t);const e=Ks(t),n=Js(t,e);Gs(t,n),Ws(t,n)}const Qs=()=>({running:!1,expanded:null,element:null,hasHiddenElements:!1,size:0,toggleExpanded(t){this.expanded=this.expanded==t?null:t},init(){this.$nextTick(()=>{this.handleResize(),this.observeElement(),window.addEventListener("pg-livewire-request-finished",()=>{setTimeout(()=>this.handleResize(),5)})})},handleResize(){var t;const e=this.$el;Xs(e),this.hasHiddenElements=(t=e.querySelector("table tbody[expand] tr td div"))==null?void 0:t.innerHTML,this.hasHiddenElements||(this.expanded=null)},observeElement(){new ResizeObserver(t=>{t.forEach(e=>{if(e.contentRect.width>0){if(this.size===this.$el.getBoundingClientRect().width)return;this.size=this.$el.getBoundingClientRect().width,this.handleResize()}})}).observe(this.$el)}}),Ys=(t,e,n)=>{Livewire.dispatch(`${t}-${e.tableName}`,{label:e.label,field:e.dataField,values:n})},Yt=(t,e)=>{Ys("pg:multiSelect",t,e)};function Le(t,e){t.split(/\s+/).forEach(n=>{e(n)})}class Zs{constructor(){this._events={}}on(e,n){Le(e,s=>{const r=this._events[s]||[];r.push(n),this._events[s]=r})}off(e,n){var s=arguments.length;if(s===0){this._events={};return}Le(e,r=>{if(s===1){delete this._events[r];return}const o=this._events[r];o!==void 0&&(o.splice(o.indexOf(n),1),this._events[r]=o)})}trigger(e,...n){var s=this;Le(e,r=>{const o=s._events[r];o!==void 0&&o.forEach(i=>{i.apply(s,n)})})}}function er(t){return t.plugins={},class extends t{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(e,n){t.plugins[e]={name:e,fn:n}}initializePlugins(e){var n,s;const r=this,o=[];if(Array.isArray(e))e.forEach(i=>{typeof i=="string"?o.push(i):(r.plugins.settings[i.name]=i.options,o.push(i.name))});else if(e)for(n in e)e.hasOwnProperty(n)&&(r.plugins.settings[n]=e[n],o.push(n));for(;s=o.shift();)r.require(s)}loadPlugin(e){var n=this,s=n.plugins,r=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');s.requested[e]=!0,s.loaded[e]=r.fn.apply(n,[n.plugins.settings[e]||{}]),s.names.push(e)}require(e){var n=this,s=n.plugins;if(!n.plugins.loaded.hasOwnProperty(e)){if(s.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');n.loadPlugin(e)}return s.loaded[e]}}}const _e=t=>(t=t.filter(Boolean),t.length<2?t[0]||"":nr(t)==1?"["+t.join("")+"]":"(?:"+t.join("|")+")"),Zt=t=>{if(!tr(t))return t.join("");let e="",n=0;const s=()=>{n>1&&(e+="{"+n+"}")};return t.forEach((r,o)=>{if(r===t[o-1]){n++;return}s(),e+=r,n=1}),s(),e},en=t=>{let e=Array.from(t);return _e(e)},tr=t=>new Set(t).size!==t.length,ne=t=>(t+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),nr=t=>t.reduce((e,n)=>Math.max(e,sr(n)),0),sr=t=>Array.from(t).length,tn=t=>{if(t.length===1)return[[t]];let e=[];const n=t.substring(1);return tn(n).forEach(function(s){let r=s.slice(0);r[0]=t.charAt(0)+r[0],e.push(r),r=s.slice(0),r.unshift(t.charAt(0)),e.push(r)}),e},rr=[[0,65535]],ir="[̀-ͯ·ʾʼ]";let ve,nn;const or=3,Ge={},ct={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let t in ct){let e=ct[t]||"";for(let n=0;n<e.length;n++){let s=e.substring(n,n+1);Ge[s]=t}}const ar=new RegExp(Object.keys(Ge).join("|")+"|"+ir,"gu"),lr=t=>{ve===void 0&&(ve=pr(rr))},ut=(t,e="NFKD")=>t.normalize(e),be=t=>Array.from(t).reduce((e,n)=>e+cr(n),""),cr=t=>(t=ut(t).toLowerCase().replace(ar,e=>Ge[e]||""),ut(t,"NFC"));function*ur(t){for(const[e,n]of t)for(let s=e;s<=n;s++){let r=String.fromCharCode(s),o=be(r);o!=r.toLowerCase()&&(o.length>or||o.length!=0&&(yield{folded:o,composed:r,code_point:s}))}}const dr=t=>{const e={},n=(s,r)=>{const o=e[s]||new Set,i=new RegExp("^"+en(o)+"$","iu");r.match(i)||(o.add(ne(r)),e[s]=o)};for(let s of ur(t))n(s.folded,s.folded),n(s.folded,s.composed);return e},pr=t=>{const e=dr(t),n={};let s=[];for(let o in e){let i=e[o];i&&(n[o]=en(i)),o.length>1&&s.push(ne(o))}s.sort((o,i)=>i.length-o.length);const r=_e(s);return nn=new RegExp("^"+r,"u"),n},hr=(t,e=1)=>{let n=0;return t=t.map(s=>(ve[s]&&(n+=s.length),ve[s]||s)),n>=e?Zt(t):""},fr=(t,e=1)=>(e=Math.max(e,t.length-1),_e(tn(t).map(n=>hr(n,e)))),dt=(t,e=!0)=>{let n=t.length>1?1:0;return _e(t.map(s=>{let r=[];const o=e?s.length():s.length()-1;for(let i=0;i<o;i++)r.push(fr(s.substrs[i]||"",n));return Zt(r)}))},mr=(t,e)=>{for(const n of e){if(n.start!=t.start||n.end!=t.end||n.substrs.join("")!==t.substrs.join(""))continue;let s=t.parts;const r=o=>{for(const i of s){if(i.start===o.start&&i.substr===o.substr)return!1;if(!(o.length==1||i.length==1)&&(o.start<i.start&&o.end>i.start||i.start<o.start&&i.end>o.start))return!0}return!1};if(!(n.parts.filter(r).length>0))return!0}return!1};class ye{constructor(){Q(this,"parts"),Q(this,"substrs"),Q(this,"start"),Q(this,"end"),this.parts=[],this.substrs=[],this.start=0,this.end=0}add(e){e&&(this.parts.push(e),this.substrs.push(e.substr),this.start=Math.min(e.start,this.start),this.end=Math.max(e.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(e,n){let s=new ye,r=JSON.parse(JSON.stringify(this.parts)),o=r.pop();for(const c of r)s.add(c);let i=n.substr.substring(0,e-o.start),a=i.length;return s.add({start:o.start,end:o.start+a,length:a,substr:i}),s}}const gr=t=>{lr(),t=be(t);let e="",n=[new ye];for(let s=0;s<t.length;s++){let r=t.substring(s).match(nn);const o=t.substring(s,s+1),i=r?r[0]:null;let a=[],c=new Set;for(const l of n){const u=l.last();if(!u||u.length==1||u.end<=s)if(i){const p=i.length;l.add({start:s,end:s+p,length:p,substr:i}),c.add("1")}else l.add({start:s,end:s+1,length:1,substr:o}),c.add("2");else if(i){let p=l.clone(s,u);const f=i.length;p.add({start:s,end:s+f,length:f,substr:i}),a.push(p)}else c.add("3")}if(a.length>0){a=a.sort((l,u)=>l.length()-u.length());for(let l of a)mr(l,n)||n.push(l);continue}if(s>0&&c.size==1&&!c.has("3")){e+=dt(n,!1);let l=new ye;const u=n[0];u&&l.add(u.last()),n=[l]}}return e+=dt(n,!0),e},vr=(t,e)=>{if(t)return t[e]},br=(t,e)=>{if(t){for(var n,s=e.split(".");(n=s.shift())&&(t=t[n]););return t}},Fe=(t,e,n)=>{var s,r;return!t||(t=t+"",e.regex==null)||(r=t.search(e.regex),r===-1)?0:(s=e.string.length/t.length,r===0&&(s+=.5),s*n)},Ie=(t,e)=>{var n=t[e];if(typeof n=="function")return n;n&&!Array.isArray(n)&&(t[e]=[n])},ae=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},yr=(t,e)=>typeof t=="number"&&typeof e=="number"?t>e?1:t<e?-1:0:(t=be(t+"").toLowerCase(),e=be(e+"").toLowerCase(),t>e?1:e>t?-1:0);class wr{constructor(e,n){Q(this,"items"),Q(this,"settings"),this.items=e,this.settings=n||{diacritics:!0}}tokenize(e,n,s){if(!e||!e.length)return[];const r=[],o=e.split(/\s+/);var i;return s&&(i=new RegExp("^("+Object.keys(s).map(ne).join("|")+"):(.*)$")),o.forEach(a=>{let c,l=null,u=null;i&&(c=a.match(i))&&(l=c[1],a=c[2]),a.length>0&&(this.settings.diacritics?u=gr(a)||null:u=ne(a),u&&n&&(u="\\b"+u)),r.push({string:a,regex:u?new RegExp(u,"iu"):null,field:l})}),r}getScoreFunction(e,n){var s=this.prepareSearch(e,n);return this._getScoreFunction(s)}_getScoreFunction(e){const n=e.tokens,s=n.length;if(!s)return function(){return 0};const r=e.options.fields,o=e.weights,i=r.length,a=e.getAttrFn;if(!i)return function(){return 1};const c=function(){return i===1?function(l,u){const p=r[0].field;return Fe(a(u,p),l,o[p]||1)}:function(l,u){var p=0;if(l.field){const f=a(u,l.field);!l.regex&&f?p+=1/i:p+=Fe(f,l,1)}else ae(o,(f,y)=>{p+=Fe(a(u,y),l,f)});return p/i}}();return s===1?function(l){return c(n[0],l)}:e.options.conjunction==="and"?function(l){var u,p=0;for(let f of n){if(u=c(f,l),u<=0)return 0;p+=u}return p/s}:function(l){var u=0;return ae(n,p=>{u+=c(p,l)}),u/s}}getSortFunction(e,n){var s=this.prepareSearch(e,n);return this._getSortFunction(s)}_getSortFunction(e){var n,s=[];const r=this,o=e.options,i=!e.query&&o.sort_empty?o.sort_empty:o.sort;if(typeof i=="function")return i.bind(this);const a=function(c,l){return c==="$score"?l.score:e.getAttrFn(r.items[l.id],c)};if(i)for(let c of i)(e.query||c.field!=="$score")&&s.push(c);if(e.query){n=!0;for(let c of s)if(c.field==="$score"){n=!1;break}n&&s.unshift({field:"$score",direction:"desc"})}else s=s.filter(c=>c.field!=="$score");return s.length?function(c,l){var u,p;for(let f of s)if(p=f.field,u=(f.direction==="desc"?-1:1)*yr(a(p,c),a(p,l)),u)return u;return 0}:null}prepareSearch(e,n){const s={};var r=Object.assign({},n);if(Ie(r,"sort"),Ie(r,"sort_empty"),r.fields){Ie(r,"fields");const o=[];r.fields.forEach(i=>{typeof i=="string"&&(i={field:i,weight:1}),o.push(i),s[i.field]="weight"in i?i.weight:1}),r.fields=o}return{options:r,query:e.toLowerCase().trim(),tokens:this.tokenize(e,r.respect_word_boundaries,s),total:0,items:[],weights:s,getAttrFn:r.nesting?br:vr}}search(e,n){var s=this,r,o;o=this.prepareSearch(e,n),n=o.options,e=o.query;const i=n.score||s._getScoreFunction(o);e.length?ae(s.items,(c,l)=>{r=i(c),(n.filter===!1||r>0)&&o.items.push({score:r,id:l})}):ae(s.items,(c,l)=>{o.items.push({score:1,id:l})});const a=s._getSortFunction(o);return a&&o.items.sort(a),o.total=o.items.length,typeof n.limit=="number"&&(o.items=o.items.slice(0,n.limit)),o}}const B=t=>typeof t>"u"||t===null?null:fe(t),fe=t=>typeof t=="boolean"?t?"1":"0":t+"",Ne=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Or=(t,e)=>e>0?window.setTimeout(t,e):(t.call(null),null),Sr=(t,e)=>{var n;return function(s,r){var o=this;n&&(o.loading=Math.max(o.loading-1,0),clearTimeout(n)),n=setTimeout(function(){n=null,o.loadedSearches[s]=!0,t.call(o,s,r)},e)}},pt=(t,e,n)=>{var s,r=t.trigger,o={};t.trigger=function(){var i=arguments[0];if(e.indexOf(i)!==-1)o[i]=arguments;else return r.apply(t,arguments)},n.apply(t,[]),t.trigger=r;for(s of e)s in o&&r.apply(t,o[s])},Er=t=>({start:t.selectionStart||0,length:(t.selectionEnd||0)-(t.selectionStart||0)}),_=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},P=(t,e,n,s)=>{t.addEventListener(e,n,s)},z=(t,e)=>{if(!e||!e[t])return!1;var n=(e.altKey?1:0)+(e.ctrlKey?1:0)+(e.shiftKey?1:0)+(e.metaKey?1:0);return n===1},Pe=(t,e)=>t.getAttribute("id")||(t.setAttribute("id",e),e),ht=t=>t.replace(/[\\"']/g,"\\$&"),K=(t,e)=>{e&&t.append(e)},L=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},U=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(sn(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},sn=t=>typeof t=="string"&&t.indexOf("<")>-1,Ar=t=>t.replace(/['"\\]/g,"\\$&"),$e=(t,e)=>{var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!1),t.dispatchEvent(n)},le=(t,e)=>{Object.assign(t.style,e)},D=(t,...e)=>{var n=rn(e);t=on(t),t.map(s=>{n.map(r=>{s.classList.add(r)})})},V=(t,...e)=>{var n=rn(e);t=on(t),t.map(s=>{n.map(r=>{s.classList.remove(r)})})},rn=t=>{var e=[];return L(t,n=>{typeof n=="string"&&(n=n.trim().split(/[\t\n\f\r\s]/)),Array.isArray(n)&&(e=e.concat(n))}),e.filter(Boolean)},on=t=>(Array.isArray(t)||(t=[t]),t),je=(t,e,n)=>{if(!(n&&!n.contains(t)))for(;t&&t.matches;){if(t.matches(e))return t;t=t.parentNode}},ft=(t,e=0)=>e>0?t[t.length-1]:t[0],Cr=t=>Object.keys(t).length===0,mt=(t,e)=>{if(!t)return-1;e=e||t.nodeName;for(var n=0;t=t.previousElementSibling;)t.matches(e)&&n++;return n},x=(t,e)=>{L(e,(n,s)=>{n==null?t.removeAttribute(s):t.setAttribute(s,""+n)})},ze=(t,e)=>{t.parentNode&&t.parentNode.replaceChild(e,t)},xr=(t,e)=>{if(e===null)return;if(typeof e=="string"){if(!e.length)return;e=new RegExp(e,"i")}const n=o=>{var i=o.data.match(e);if(i&&o.data.length>0){var a=document.createElement("span");a.className="highlight";var c=o.splitText(i.index);c.splitText(i[0].length);var l=c.cloneNode(!0);return a.appendChild(l),ze(c,a),1}return 0},s=o=>{o.nodeType===1&&o.childNodes&&!/(script|style)/i.test(o.tagName)&&(o.className!=="highlight"||o.tagName!=="SPAN")&&Array.from(o.childNodes).forEach(i=>{r(i)})},r=o=>o.nodeType===3?n(o):(s(o),0);r(t)},_r=t=>{var e=t.querySelectorAll("span.highlight");Array.prototype.forEach.call(e,function(n){var s=n.parentNode;s.replaceChild(n.firstChild,n),s.normalize()})},Tr=65,kr=13,Rr=27,Lr=37,Fr=38,Ir=39,Nr=40,gt=8,Pr=46,vt=9,$r=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),ce=$r?"metaKey":"ctrlKey",bt={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(t){return t.length>0},render:{}};function yt(t,e){var n=Object.assign({},bt,e),s=n.dataAttr,r=n.labelField,o=n.valueField,i=n.disabledField,a=n.optgroupField,c=n.optgroupLabelField,l=n.optgroupValueField,u=t.tagName.toLowerCase(),p=t.getAttribute("placeholder")||t.getAttribute("data-placeholder");if(!p&&!n.allowEmptyOption){let g=t.querySelector('option[value=""]');g&&(p=g.textContent)}var f={placeholder:p,options:[],optgroups:[],items:[],maxItems:null},y=()=>{var g,m=f.options,b={},v=1;let O=0;var k=w=>{var A=Object.assign({},w.dataset),E=s&&A[s];return typeof E=="string"&&E.length&&(A=Object.assign(A,JSON.parse(E))),A},R=(w,A)=>{var E=B(w.value);if(E!=null&&!(!E&&!n.allowEmptyOption)){if(b.hasOwnProperty(E)){if(A){var F=b[E][a];F?Array.isArray(F)?F.push(A):b[E][a]=[F,A]:b[E][a]=A}}else{var C=k(w);C[r]=C[r]||w.textContent,C[o]=C[o]||E,C[i]=C[i]||w.disabled,C[a]=C[a]||A,C.$option=w,C.$order=C.$order||++O,b[E]=C,m.push(C)}w.selected&&f.items.push(E)}},N=w=>{var A,E;E=k(w),E[c]=E[c]||w.getAttribute("label")||"",E[l]=E[l]||v++,E[i]=E[i]||w.disabled,E.$order=E.$order||++O,f.optgroups.push(E),A=E[l],L(w.children,F=>{R(F,A)})};f.maxItems=t.hasAttribute("multiple")?null:1,L(t.children,w=>{g=w.tagName.toLowerCase(),g==="optgroup"?N(w):g==="option"&&R(w)})},h=()=>{const g=t.getAttribute(s);if(g)f.options=JSON.parse(g),L(f.options,b=>{f.items.push(b[o])});else{var m=t.value.trim()||"";if(!n.allowEmptyOption&&!m.length)return;const b=m.split(n.delimiter);L(b,v=>{const O={};O[r]=v,O[o]=v,f.options.push(O)}),f.items=b}};return u==="select"?y():h(),Object.assign({},bt,f,e)}var wt=0;class $ extends er(Zs){constructor(e,n){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,wt++;var s,r=U(e);if(r.tomselect)throw new Error("Tom Select already initialized on this element");r.tomselect=this;var o=window.getComputedStyle&&window.getComputedStyle(r,null);s=o.getPropertyValue("direction");const i=yt(r,n);this.settings=i,this.input=r,this.tabIndex=r.tabIndex||0,this.is_select_tag=r.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(s),this.inputId=Pe(r,"tomselect-"+wt),this.isRequired=r.required,this.sifter=new wr(this.options,{diacritics:i.diacritics}),i.mode=i.mode||(i.maxItems===1?"single":"multi"),typeof i.hideSelected!="boolean"&&(i.hideSelected=i.mode==="multi"),typeof i.hidePlaceholder!="boolean"&&(i.hidePlaceholder=i.mode!=="multi");var a=i.createFilter;typeof a!="function"&&(typeof a=="string"&&(a=new RegExp(a)),a instanceof RegExp?i.createFilter=m=>a.test(m):i.createFilter=m=>this.settings.duplicates||!this.options[m]),this.initializePlugins(i.plugins),this.setupCallbacks(),this.setupTemplates();const c=U("<div>"),l=U("<div>"),u=this._render("dropdown"),p=U('<div role="listbox" tabindex="-1">'),f=this.input.getAttribute("class")||"",y=i.mode;var h;if(D(c,i.wrapperClass,f,y),D(l,i.controlClass),K(c,l),D(u,i.dropdownClass,y),i.copyClassesToDropdown&&D(u,f),D(p,i.dropdownContentClass),K(u,p),U(i.dropdownParent||c).appendChild(u),sn(i.controlInput)){h=U(i.controlInput);var g=["autocorrect","autocapitalize","autocomplete","spellcheck"];L(g,m=>{r.getAttribute(m)&&x(h,{[m]:r.getAttribute(m)})}),h.tabIndex=-1,l.appendChild(h),this.focus_node=h}else i.controlInput?(h=U(i.controlInput),this.focus_node=h):(h=U("<input/>"),this.focus_node=l);this.wrapper=c,this.dropdown=u,this.dropdown_content=p,this.control=l,this.control_input=h,this.setup()}setup(){const e=this,n=e.settings,s=e.control_input,r=e.dropdown,o=e.dropdown_content,i=e.wrapper,a=e.control,c=e.input,l=e.focus_node,u={passive:!0},p=e.inputId+"-ts-dropdown";x(o,{id:p}),x(l,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":p});const f=Pe(l,e.inputId+"-ts-control"),y="label[for='"+Ar(e.inputId)+"']",h=document.querySelector(y),g=e.focus.bind(e);if(h){P(h,"click",g),x(h,{for:f});const v=Pe(h,e.inputId+"-ts-label");x(l,{"aria-labelledby":v}),x(o,{"aria-labelledby":v})}if(i.style.width=c.style.width,e.plugins.names.length){const v="plugin-"+e.plugins.names.join(" plugin-");D([i,r],v)}(n.maxItems===null||n.maxItems>1)&&e.is_select_tag&&x(c,{multiple:"multiple"}),n.placeholder&&x(s,{placeholder:n.placeholder}),!n.splitOn&&n.delimiter&&(n.splitOn=new RegExp("\\s*"+ne(n.delimiter)+"+\\s*")),n.load&&n.loadThrottle&&(n.load=Sr(n.load,n.loadThrottle)),P(r,"mousemove",()=>{e.ignoreHover=!1}),P(r,"mouseenter",v=>{var O=je(v.target,"[data-selectable]",r);O&&e.onOptionHover(v,O)},{capture:!0}),P(r,"click",v=>{const O=je(v.target,"[data-selectable]");O&&(e.onOptionSelect(v,O),_(v,!0))}),P(a,"click",v=>{var O=je(v.target,"[data-ts-item]",a);if(O&&e.onItemSelect(v,O)){_(v,!0);return}s.value==""&&(e.onClick(),_(v,!0))}),P(l,"keydown",v=>e.onKeyDown(v)),P(s,"keypress",v=>e.onKeyPress(v)),P(s,"input",v=>e.onInput(v)),P(l,"blur",v=>e.onBlur(v)),P(l,"focus",v=>e.onFocus(v)),P(s,"paste",v=>e.onPaste(v));const m=v=>{const O=v.composedPath()[0];if(!i.contains(O)&&!r.contains(O)){e.isFocused&&e.blur(),e.inputState();return}O==s&&e.isOpen?v.stopPropagation():_(v,!0)},b=()=>{e.isOpen&&e.positionDropdown()};P(document,"mousedown",m),P(window,"scroll",b,u),P(window,"resize",b,u),this._destroy=()=>{document.removeEventListener("mousedown",m),window.removeEventListener("scroll",b),window.removeEventListener("resize",b),h&&h.removeEventListener("click",g)},this.revertSettings={innerHTML:c.innerHTML,tabIndex:c.tabIndex},c.tabIndex=-1,c.insertAdjacentElement("afterend",e.wrapper),e.sync(!1),n.items=[],delete n.optgroups,delete n.options,P(c,"invalid",()=>{e.isValid&&(e.isValid=!1,e.isInvalid=!0,e.refreshState())}),e.updateOriginalInput(),e.refreshItems(),e.close(!1),e.inputState(),e.isSetup=!0,c.disabled?e.disable():c.readOnly?e.setReadOnly(!0):e.enable(),e.on("change",this.onChange),D(c,"tomselected","ts-hidden-accessible"),e.trigger("initialize"),n.preload===!0&&e.preload()}setupOptions(e=[],n=[]){this.addOptions(e),L(n,s=>{this.registerOptionGroup(s)})}setupTemplates(){var e=this,n=e.settings.labelField,s=e.settings.optgroupLabelField,r={optgroup:o=>{let i=document.createElement("div");return i.className="optgroup",i.appendChild(o.options),i},optgroup_header:(o,i)=>'<div class="optgroup-header">'+i(o[s])+"</div>",option:(o,i)=>"<div>"+i(o[n])+"</div>",item:(o,i)=>"<div>"+i(o[n])+"</div>",option_create:(o,i)=>'<div class="create">Add <strong>'+i(o.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};e.settings.render=Object.assign({},r,e.settings.render)}setupCallbacks(){var e,n,s={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in s)n=this.settings[s[e]],n&&this.on(e,n)}sync(e=!0){const n=this,s=e?yt(n.input,{delimiter:n.settings.delimiter}):n.settings;n.setupOptions(s.options,s.optgroups),n.setValue(s.items||[],!0),n.lastQuery=null}onClick(){var e=this;if(e.activeItems.length>0){e.clearActiveItems(),e.focus();return}e.isFocused&&e.isOpen?e.blur():e.focus()}onMouseDown(){}onChange(){$e(this.input,"input"),$e(this.input,"change")}onPaste(e){var n=this;if(n.isInputHidden||n.isLocked){_(e);return}n.settings.splitOn&&setTimeout(()=>{var s=n.inputValue();if(s.match(n.settings.splitOn)){var r=s.trim().split(n.settings.splitOn);L(r,o=>{B(o)&&(this.options[o]?n.addItem(o):n.createItem(o))})}},0)}onKeyPress(e){var n=this;if(n.isLocked){_(e);return}var s=String.fromCharCode(e.keyCode||e.which);if(n.settings.create&&n.settings.mode==="multi"&&s===n.settings.delimiter){n.createItem(),_(e);return}}onKeyDown(e){var n=this;if(n.ignoreHover=!0,n.isLocked){e.keyCode!==vt&&_(e);return}switch(e.keyCode){case Tr:if(z(ce,e)&&n.control_input.value==""){_(e),n.selectAll();return}break;case Rr:n.isOpen&&(_(e,!0),n.close()),n.clearActiveItems();return;case Nr:if(!n.isOpen&&n.hasOptions)n.open();else if(n.activeOption){let s=n.getAdjacent(n.activeOption,1);s&&n.setActiveOption(s)}_(e);return;case Fr:if(n.activeOption){let s=n.getAdjacent(n.activeOption,-1);s&&n.setActiveOption(s)}_(e);return;case kr:n.canSelect(n.activeOption)?(n.onOptionSelect(e,n.activeOption),_(e)):(n.settings.create&&n.createItem()||document.activeElement==n.control_input&&n.isOpen)&&_(e);return;case Lr:n.advanceSelection(-1,e);return;case Ir:n.advanceSelection(1,e);return;case vt:n.settings.selectOnTab&&(n.canSelect(n.activeOption)&&(n.onOptionSelect(e,n.activeOption),_(e)),n.settings.create&&n.createItem()&&_(e));return;case gt:case Pr:n.deleteSelection(e);return}n.isInputHidden&&!z(ce,e)&&_(e)}onInput(e){if(this.isLocked)return;const n=this.inputValue();if(this.lastValue!==n){if(this.lastValue=n,n==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=Or(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){const e=this.lastValue;this.settings.shouldLoad.call(this,e)&&this.load(e),this.refreshOptions(),this.trigger("type",e)}onOptionHover(e,n){this.ignoreHover||this.setActiveOption(n,!1)}onFocus(e){var n=this,s=n.isFocused;if(n.isDisabled||n.isReadOnly){n.blur(),_(e);return}n.ignoreFocus||(n.isFocused=!0,n.settings.preload==="focus"&&n.preload(),s||n.trigger("focus"),n.activeItems.length||(n.inputState(),n.refreshOptions(!!n.settings.openOnFocus)),n.refreshState())}onBlur(e){if(document.hasFocus()!==!1){var n=this;if(n.isFocused){n.isFocused=!1,n.ignoreFocus=!1;var s=()=>{n.close(),n.setActiveItem(),n.setCaret(n.items.length),n.trigger("blur")};n.settings.create&&n.settings.createOnBlur?n.createItem(null,s):s()}}}onOptionSelect(e,n){var s,r=this;n.parentElement&&n.parentElement.matches("[data-disabled]")||(n.classList.contains("create")?r.createItem(null,()=>{r.settings.closeAfterSelect&&r.close()}):(s=n.dataset.value,typeof s<"u"&&(r.lastQuery=null,r.addItem(s),r.settings.closeAfterSelect&&r.close(),!r.settings.hideSelected&&e.type&&/click/.test(e.type)&&r.setActiveOption(n))))}canSelect(e){return!!(this.isOpen&&e&&this.dropdown_content.contains(e))}onItemSelect(e,n){var s=this;return!s.isLocked&&s.settings.mode==="multi"?(_(e),s.setActiveItem(n,e),!0):!1}canLoad(e){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(e))}load(e){const n=this;if(!n.canLoad(e))return;D(n.wrapper,n.settings.loadingClass),n.loading++;const s=n.loadCallback.bind(n);n.settings.load.call(n,e,s)}loadCallback(e,n){const s=this;s.loading=Math.max(s.loading-1,0),s.lastQuery=null,s.clearActiveOption(),s.setupOptions(e,n),s.refreshOptions(s.isFocused&&!s.isInputHidden),s.loading||V(s.wrapper,s.settings.loadingClass),s.trigger("load",e,n)}preload(){var e=this.wrapper.classList;e.contains("preloaded")||(e.add("preloaded"),this.load(""))}setTextboxValue(e=""){var n=this.control_input,s=n.value!==e;s&&(n.value=e,$e(n,"update"),this.lastValue=e)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(e,n){var s=n?[]:["change"];pt(this,s,()=>{this.clear(n),this.addItems(e,n)})}setMaxItems(e){e===0&&(e=null),this.settings.maxItems=e,this.refreshState()}setActiveItem(e,n){var s=this,r,o,i,a,c,l;if(s.settings.mode!=="single"){if(!e){s.clearActiveItems(),s.isFocused&&s.inputState();return}if(r=n&&n.type.toLowerCase(),r==="click"&&z("shiftKey",n)&&s.activeItems.length){for(l=s.getLastActive(),i=Array.prototype.indexOf.call(s.control.children,l),a=Array.prototype.indexOf.call(s.control.children,e),i>a&&(c=i,i=a,a=c),o=i;o<=a;o++)e=s.control.children[o],s.activeItems.indexOf(e)===-1&&s.setActiveItemClass(e);_(n)}else r==="click"&&z(ce,n)||r==="keydown"&&z("shiftKey",n)?e.classList.contains("active")?s.removeActiveItem(e):s.setActiveItemClass(e):(s.clearActiveItems(),s.setActiveItemClass(e));s.inputState(),s.isFocused||s.focus()}}setActiveItemClass(e){const n=this,s=n.control.querySelector(".last-active");s&&V(s,"last-active"),D(e,"active last-active"),n.trigger("item_select",e),n.activeItems.indexOf(e)==-1&&n.activeItems.push(e)}removeActiveItem(e){var n=this.activeItems.indexOf(e);this.activeItems.splice(n,1),V(e,"active")}clearActiveItems(){V(this.activeItems,"active"),this.activeItems=[]}setActiveOption(e,n=!0){e!==this.activeOption&&(this.clearActiveOption(),e&&(this.activeOption=e,x(this.focus_node,{"aria-activedescendant":e.getAttribute("id")}),x(e,{"aria-selected":"true"}),D(e,"active"),n&&this.scrollToOption(e)))}scrollToOption(e,n){if(!e)return;const s=this.dropdown_content,r=s.clientHeight,o=s.scrollTop||0,i=e.offsetHeight,a=e.getBoundingClientRect().top-s.getBoundingClientRect().top+o;a+i>r+o?this.scroll(a-r+i,n):a<o&&this.scroll(a,n)}scroll(e,n){const s=this.dropdown_content;n&&(s.style.scrollBehavior=n),s.scrollTop=e,s.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(V(this.activeOption,"active"),x(this.activeOption,{"aria-selected":null})),this.activeOption=null,x(this.focus_node,{"aria-activedescendant":null})}selectAll(){const e=this;if(e.settings.mode==="single")return;const n=e.controlChildren();n.length&&(e.inputState(),e.close(),e.activeItems=n,L(n,s=>{e.setActiveItemClass(s)}))}inputState(){var e=this;e.control.contains(e.control_input)&&(x(e.control_input,{placeholder:e.settings.placeholder}),e.activeItems.length>0||!e.isFocused&&e.settings.hidePlaceholder&&e.items.length>0?(e.setTextboxValue(),e.isInputHidden=!0):(e.settings.hidePlaceholder&&e.items.length>0&&x(e.control_input,{placeholder:""}),e.isInputHidden=!1),e.wrapper.classList.toggle("input-hidden",e.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var e=this;e.isDisabled||e.isReadOnly||(e.ignoreFocus=!0,e.control_input.offsetWidth?e.control_input.focus():e.focus_node.focus(),setTimeout(()=>{e.ignoreFocus=!1,e.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())}getSearchOptions(){var e=this.settings,n=e.sortField;return typeof e.sortField=="string"&&(n=[{field:e.sortField}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:n,nesting:e.nesting}}search(e){var n,s,r=this,o=this.getSearchOptions();if(r.settings.score&&(s=r.settings.score.call(r,e),typeof s!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return e!==r.lastQuery?(r.lastQuery=e,n=r.sifter.search(e,Object.assign(o,{score:s})),r.currentResults=n):n=Object.assign({},r.currentResults),r.settings.hideSelected&&(n.items=n.items.filter(i=>{let a=B(i.id);return!(a&&r.items.indexOf(a)!==-1)})),n}refreshOptions(e=!0){var n,s,r,o,i,a,c,l,u,p;const f={},y=[];var h=this,g=h.inputValue();const m=g===h.lastQuery||g==""&&h.lastQuery==null;var b=h.search(g),v=null,O=h.settings.shouldOpen||!1,k=h.dropdown_content;m&&(v=h.activeOption,v&&(u=v.closest("[data-group]"))),o=b.items.length,typeof h.settings.maxOptions=="number"&&(o=Math.min(o,h.settings.maxOptions)),o>0&&(O=!0);const R=(w,A)=>{let E=f[w];if(E!==void 0){let C=y[E];if(C!==void 0)return[E,C.fragment]}let F=document.createDocumentFragment();return E=y.length,y.push({fragment:F,order:A,optgroup:w}),[E,F]};for(n=0;n<o;n++){let w=b.items[n];if(!w)continue;let A=w.id,E=h.options[A];if(E===void 0)continue;let F=fe(A),C=h.getOption(F,!0);for(h.settings.hideSelected||C.classList.toggle("selected",h.items.includes(F)),i=E[h.settings.optgroupField]||"",a=Array.isArray(i)?i:[i],s=0,r=a&&a.length;s<r;s++){i=a[s];let ie=E.$order,oe=h.optgroups[i];oe===void 0?i="":ie=oe.$order;const[an,ln]=R(i,ie);s>0&&(C=C.cloneNode(!0),x(C,{id:E.$id+"-clone-"+s,"aria-selected":null}),C.classList.add("ts-cloned"),V(C,"active"),h.activeOption&&h.activeOption.dataset.value==A&&u&&u.dataset.group===i.toString()&&(v=C)),ln.appendChild(C),i!=""&&(f[i]=an)}}h.settings.lockOptgroupOrder&&y.sort((w,A)=>w.order-A.order),c=document.createDocumentFragment(),L(y,w=>{let A=w.fragment,E=w.optgroup;if(!A||!A.children.length)return;let F=h.optgroups[E];if(F!==void 0){let C=document.createDocumentFragment(),ie=h.render("optgroup_header",F);K(C,ie),K(C,A);let oe=h.render("optgroup",{group:F,options:C});K(c,oe)}else K(c,A)}),k.innerHTML="",K(k,c),h.settings.highlight&&(_r(k),b.query.length&&b.tokens.length&&L(b.tokens,w=>{xr(k,w.regex)}));var N=w=>{let A=h.render(w,{input:g});return A&&(O=!0,k.insertBefore(A,k.firstChild)),A};if(h.loading?N("loading"):h.settings.shouldLoad.call(h,g)?b.items.length===0&&N("no_results"):N("not_loading"),l=h.canCreate(g),l&&(p=N("option_create")),h.hasOptions=b.items.length>0||l,O){if(b.items.length>0){if(!v&&h.settings.mode==="single"&&h.items[0]!=null&&(v=h.getOption(h.items[0])),!k.contains(v)){let w=0;p&&!h.settings.addPrecedence&&(w=1),v=h.selectable()[w]}}else p&&(v=p);e&&!h.isOpen&&(h.open(),h.scrollToOption(v,"auto")),h.setActiveOption(v)}else h.clearActiveOption(),e&&h.isOpen&&h.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(e,n=!1){const s=this;if(Array.isArray(e))return s.addOptions(e,n),!1;const r=B(e[s.settings.valueField]);return r===null||s.options.hasOwnProperty(r)?!1:(e.$order=e.$order||++s.order,e.$id=s.inputId+"-opt-"+e.$order,s.options[r]=e,s.lastQuery=null,n&&(s.userOptions[r]=n,s.trigger("option_add",r,e)),r)}addOptions(e,n=!1){L(e,s=>{this.addOption(s,n)})}registerOption(e){return this.addOption(e)}registerOptionGroup(e){var n=B(e[this.settings.optgroupValueField]);return n===null?!1:(e.$order=e.$order||++this.order,this.optgroups[n]=e,n)}addOptionGroup(e,n){var s;n[this.settings.optgroupValueField]=e,(s=this.registerOptionGroup(n))&&this.trigger("optgroup_add",s,n)}removeOptionGroup(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.clearCache(),this.trigger("optgroup_remove",e))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(e,n){const s=this;var r,o;const i=B(e),a=B(n[s.settings.valueField]);if(i===null)return;const c=s.options[i];if(c==null)return;if(typeof a!="string")throw new Error("Value must be set in option data");const l=s.getOption(i),u=s.getItem(i);if(n.$order=n.$order||c.$order,delete s.options[i],s.uncacheValue(a),s.options[a]=n,l){if(s.dropdown_content.contains(l)){const p=s._render("option",n);ze(l,p),s.activeOption===l&&s.setActiveOption(p)}l.remove()}u&&(o=s.items.indexOf(i),o!==-1&&s.items.splice(o,1,a),r=s._render("item",n),u.classList.contains("active")&&D(r,"active"),ze(u,r)),s.lastQuery=null}removeOption(e,n){const s=this;e=fe(e),s.uncacheValue(e),delete s.userOptions[e],delete s.options[e],s.lastQuery=null,s.trigger("option_remove",e),s.removeItem(e,n)}clearOptions(e){const n=(e||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const s={};L(this.options,(r,o)=>{n(r,o)&&(s[o]=r)}),this.options=this.sifter.items=s,this.lastQuery=null,this.trigger("option_clear")}clearFilter(e,n){return this.items.indexOf(n)>=0}getOption(e,n=!1){const s=B(e);if(s===null)return null;const r=this.options[s];if(r!=null){if(r.$div)return r.$div;if(n)return this._render("option",r)}return null}getAdjacent(e,n,s="option"){var r=this,o;if(!e)return null;s=="item"?o=r.controlChildren():o=r.dropdown_content.querySelectorAll("[data-selectable]");for(let i=0;i<o.length;i++)if(o[i]==e)return n>0?o[i+1]:o[i-1];return null}getItem(e){if(typeof e=="object")return e;var n=B(e);return n!==null?this.control.querySelector(`[data-value="${ht(n)}"]`):null}addItems(e,n){var s=this,r=Array.isArray(e)?e:[e];r=r.filter(i=>s.items.indexOf(i)===-1);const o=r[r.length-1];r.forEach(i=>{s.isPending=i!==o,s.addItem(i,n)})}addItem(e,n){var s=n?[]:["change","dropdown_close"];pt(this,s,()=>{var r,o;const i=this,a=i.settings.mode,c=B(e);if(!(c&&i.items.indexOf(c)!==-1&&(a==="single"&&i.close(),a==="single"||!i.settings.duplicates))&&!(c===null||!i.options.hasOwnProperty(c))&&(a==="single"&&i.clear(n),!(a==="multi"&&i.isFull()))){if(r=i._render("item",i.options[c]),i.control.contains(r)&&(r=r.cloneNode(!0)),o=i.isFull(),i.items.splice(i.caretPos,0,c),i.insertAtCaret(r),i.isSetup){if(!i.isPending&&i.settings.hideSelected){let l=i.getOption(c),u=i.getAdjacent(l,1);u&&i.setActiveOption(u)}!i.isPending&&!i.settings.closeAfterSelect&&i.refreshOptions(i.isFocused&&a!=="single"),i.settings.closeAfterSelect!=!1&&i.isFull()?i.close():i.isPending||i.positionDropdown(),i.trigger("item_add",c,r),i.isPending||i.updateOriginalInput({silent:n})}(!i.isPending||!o&&i.isFull())&&(i.inputState(),i.refreshState())}})}removeItem(e=null,n){const s=this;if(e=s.getItem(e),!e)return;var r,o;const i=e.dataset.value;r=mt(e),e.remove(),e.classList.contains("active")&&(o=s.activeItems.indexOf(e),s.activeItems.splice(o,1),V(e,"active")),s.items.splice(r,1),s.lastQuery=null,!s.settings.persist&&s.userOptions.hasOwnProperty(i)&&s.removeOption(i,n),r<s.caretPos&&s.setCaret(s.caretPos-1),s.updateOriginalInput({silent:n}),s.refreshState(),s.positionDropdown(),s.trigger("item_remove",i,e)}createItem(e=null,n=()=>{}){arguments.length===3&&(n=arguments[2]),typeof n!="function"&&(n=()=>{});var s=this,r=s.caretPos,o;if(e=e||s.inputValue(),!s.canCreate(e))return n(),!1;s.lock();var i=!1,a=c=>{if(s.unlock(),!c||typeof c!="object")return n();var l=B(c[s.settings.valueField]);if(typeof l!="string")return n();s.setTextboxValue(),s.addOption(c,!0),s.setCaret(r),s.addItem(l),n(c),i=!0};return typeof s.settings.create=="function"?o=s.settings.create.call(this,e,a):o={[s.settings.labelField]:e,[s.settings.valueField]:e},i||a(o),!0}refreshItems(){var e=this;e.lastQuery=null,e.isSetup&&e.addItems(e.items),e.updateOriginalInput(),e.refreshState()}refreshState(){const e=this;e.refreshValidityState();const n=e.isFull(),s=e.isLocked;e.wrapper.classList.toggle("rtl",e.rtl);const r=e.wrapper.classList;r.toggle("focus",e.isFocused),r.toggle("disabled",e.isDisabled),r.toggle("readonly",e.isReadOnly),r.toggle("required",e.isRequired),r.toggle("invalid",!e.isValid),r.toggle("locked",s),r.toggle("full",n),r.toggle("input-active",e.isFocused&&!e.isInputHidden),r.toggle("dropdown-active",e.isOpen),r.toggle("has-options",Cr(e.options)),r.toggle("has-items",e.items.length>0)}refreshValidityState(){var e=this;e.input.validity&&(e.isValid=e.input.validity.valid,e.isInvalid=!e.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(e={}){const n=this;var s,r;const o=n.input.querySelector('option[value=""]');if(n.is_select_tag){let i=function(l,u,p){return l||(l=U('<option value="'+Ne(u)+'">'+Ne(p)+"</option>")),l!=o&&n.input.append(l),a.push(l),(l!=o||c>0)&&(l.selected=!0),l};const a=[],c=n.input.querySelectorAll("option:checked").length;n.input.querySelectorAll("option:checked").forEach(l=>{l.selected=!1}),n.items.length==0&&n.settings.mode=="single"?i(o,"",""):n.items.forEach(l=>{if(s=n.options[l],r=s[n.settings.labelField]||"",a.includes(s.$option)){const u=n.input.querySelector(`option[value="${ht(l)}"]:not(:checked)`);i(u,l,r)}else s.$option=i(s.$option,l,r)})}else n.input.value=n.getValue();n.isSetup&&(e.silent||n.trigger("change",n.getValue()))}open(){var e=this;e.isLocked||e.isOpen||e.settings.mode==="multi"&&e.isFull()||(e.isOpen=!0,x(e.focus_node,{"aria-expanded":"true"}),e.refreshState(),le(e.dropdown,{visibility:"hidden",display:"block"}),e.positionDropdown(),le(e.dropdown,{visibility:"visible",display:"block"}),e.focus(),e.trigger("dropdown_open",e.dropdown))}close(e=!0){var n=this,s=n.isOpen;e&&(n.setTextboxValue(),n.settings.mode==="single"&&n.items.length&&n.inputState()),n.isOpen=!1,x(n.focus_node,{"aria-expanded":"false"}),le(n.dropdown,{display:"none"}),n.settings.hideSelected&&n.clearActiveOption(),n.refreshState(),s&&n.trigger("dropdown_close",n.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var e=this.control,n=e.getBoundingClientRect(),s=e.offsetHeight+n.top+window.scrollY,r=n.left+window.scrollX;le(this.dropdown,{width:n.width+"px",top:s+"px",left:r+"px"})}}clear(e){var n=this;if(n.items.length){var s=n.controlChildren();L(s,r=>{n.removeItem(r,!0)}),n.inputState(),e||n.updateOriginalInput(),n.trigger("clear")}}insertAtCaret(e){const n=this,s=n.caretPos,r=n.control;r.insertBefore(e,r.children[s]||null),n.setCaret(s+1)}deleteSelection(e){var n,s,r,o,i=this;n=e&&e.keyCode===gt?-1:1,s=Er(i.control_input);const a=[];if(i.activeItems.length)o=ft(i.activeItems,n),r=mt(o),n>0&&r++,L(i.activeItems,c=>a.push(c));else if((i.isFocused||i.settings.mode==="single")&&i.items.length){const c=i.controlChildren();let l;n<0&&s.start===0&&s.length===0?l=c[i.caretPos-1]:n>0&&s.start===i.inputValue().length&&(l=c[i.caretPos]),l!==void 0&&a.push(l)}if(!i.shouldDelete(a,e))return!1;for(_(e,!0),typeof r<"u"&&i.setCaret(r);a.length;)i.removeItem(a.pop());return i.inputState(),i.positionDropdown(),i.refreshOptions(!1),!0}shouldDelete(e,n){const s=e.map(r=>r.dataset.value);return!(!s.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(s,n)===!1)}advanceSelection(e,n){var s,r,o=this;o.rtl&&(e*=-1),!o.inputValue().length&&(z(ce,n)||z("shiftKey",n)?(s=o.getLastActive(e),s?s.classList.contains("active")?r=o.getAdjacent(s,e,"item"):r=s:e>0?r=o.control_input.nextElementSibling:r=o.control_input.previousElementSibling,r&&(r.classList.contains("active")&&o.removeActiveItem(s),o.setActiveItemClass(r))):o.moveCaret(e))}moveCaret(e){}getLastActive(e){let n=this.control.querySelector(".last-active");if(n)return n;var s=this.control.querySelectorAll(".active");if(s)return ft(s,e)}setCaret(e){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(e=this.isReadOnly||this.isDisabled){this.isLocked=e,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(e){this.focus_node.tabIndex=e?-1:this.tabIndex,this.isDisabled=e,this.input.disabled=e,this.control_input.disabled=e,this.setLocked()}setReadOnly(e){this.isReadOnly=e,this.input.readOnly=e,this.control_input.readOnly=e,this.setLocked()}destroy(){var e=this,n=e.revertSettings;e.trigger("destroy"),e.off(),e.wrapper.remove(),e.dropdown.remove(),e.input.innerHTML=n.innerHTML,e.input.tabIndex=n.tabIndex,V(e.input,"tomselected","ts-hidden-accessible"),e._destroy(),delete e.input.tomselect}render(e,n){var s,r;const o=this;if(typeof this.settings.render[e]!="function"||(r=o.settings.render[e].call(this,n,Ne),!r))return null;if(r=U(r),e==="option"||e==="option_create"?n[o.settings.disabledField]?x(r,{"aria-disabled":"true"}):x(r,{"data-selectable":""}):e==="optgroup"&&(s=n.group[o.settings.optgroupValueField],x(r,{"data-group":s}),n.group[o.settings.disabledField]&&x(r,{"data-disabled":""})),e==="option"||e==="item"){const i=fe(n[o.settings.valueField]);x(r,{"data-value":i}),e==="item"?(D(r,o.settings.itemClass),x(r,{"data-ts-item":""})):(D(r,o.settings.optionClass),x(r,{role:"option",id:n.$id}),n.$div=r,o.options[i]=n)}return r}_render(e,n){const s=this.render(e,n);if(s==null)throw"HTMLElement expected";return s}clearCache(){L(this.options,e=>{e.$div&&(e.$div.remove(),delete e.$div)})}uncacheValue(e){const n=this.getOption(e);n&&n.remove()}canCreate(e){return this.settings.create&&e.length>0&&this.settings.createFilter.call(this,e)}hook(e,n,s){var r=this,o=r[n];r[n]=function(){var i,a;return e==="after"&&(i=o.apply(r,arguments)),a=s.apply(r,arguments),e==="instead"?a:(e==="before"&&(i=o.apply(r,arguments)),i)}}}const jr=(t,e,n,s)=>{t.addEventListener(e,n,s)};function qr(){jr(this.input,"change",()=>{this.sync()})}const Dr=t=>typeof t>"u"||t===null?null:Br(t),Br=t=>typeof t=="boolean"?t?"1":"0":t+"",Ot=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},Hr=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(Mr(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},Mr=t=>typeof t=="string"&&t.indexOf("<")>-1;function Ur(t){var e=this,n=e.onOptionSelect;e.settings.hideSelected=!1;const s=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},t);var r=function(i,a){a?(i.checked=!0,s.uncheckedClassNames&&i.classList.remove(...s.uncheckedClassNames),s.checkedClassNames&&i.classList.add(...s.checkedClassNames)):(i.checked=!1,s.checkedClassNames&&i.classList.remove(...s.checkedClassNames),s.uncheckedClassNames&&i.classList.add(...s.uncheckedClassNames))},o=function(i){setTimeout(()=>{var a=i.querySelector("input."+s.className);a instanceof HTMLInputElement&&r(a,i.classList.contains("selected"))},1)};e.hook("after","setupTemplates",()=>{var i=e.settings.render.option;e.settings.render.option=(a,c)=>{var l=Hr(i.call(e,a,c)),u=document.createElement("input");s.className&&u.classList.add(s.className),u.addEventListener("click",function(f){Ot(f)}),u.type="checkbox";const p=Dr(a[e.settings.valueField]);return r(u,!!(p&&e.items.indexOf(p)>-1)),l.prepend(u),l}}),e.on("item_remove",i=>{var a=e.getOption(i);a&&(a.classList.remove("selected"),o(a))}),e.on("item_add",i=>{var a=e.getOption(i);a&&o(a)}),e.hook("instead","onOptionSelect",(i,a)=>{if(a.classList.contains("selected")){a.classList.remove("selected"),e.removeItem(a.dataset.value),e.refreshOptions(),Ot(i,!0);return}n.call(e,i,a),o(a)})}const Vr=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(zr(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},zr=t=>typeof t=="string"&&t.indexOf("<")>-1;function Kr(t){const e=this,n=Object.assign({className:"clear-button",title:"Clear All",html:s=>`<div class="${s.className}" title="${s.title}">&#10799;</div>`},t);e.on("initialize",()=>{var s=Vr(n.html(n));s.addEventListener("click",r=>{e.isLocked||(e.clear(),e.settings.mode==="single"&&e.settings.allowEmptyOption&&e.addItem(""),r.preventDefault(),r.stopPropagation())}),e.control.appendChild(s)})}const Jr=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},X=(t,e,n,s)=>{t.addEventListener(e,n,s)},Wr=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},Gr=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(Xr(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},Xr=t=>typeof t=="string"&&t.indexOf("<")>-1,Qr=(t,e)=>{Wr(e,(n,s)=>{n==null?t.removeAttribute(s):t.setAttribute(s,""+n)})},Yr=(t,e)=>{var n;(n=t.parentNode)==null||n.insertBefore(e,t.nextSibling)},Zr=(t,e)=>{var n;(n=t.parentNode)==null||n.insertBefore(e,t)},ei=(t,e)=>{do{var n;if(e=(n=e)==null?void 0:n.previousElementSibling,t==e)return!0}while(e&&e.previousElementSibling);return!1};function ti(){var t=this;if(t.settings.mode!=="multi")return;var e=t.lock,n=t.unlock;let s=!0,r;t.hook("after","setupTemplates",()=>{var o=t.settings.render.item;t.settings.render.item=(i,a)=>{const c=Gr(o.call(t,i,a));Qr(c,{draggable:"true"});const l=g=>{s||Jr(g),g.stopPropagation()},u=g=>{r=c,setTimeout(()=>{c.classList.add("ts-dragging")},0)},p=g=>{g.preventDefault(),c.classList.add("ts-drag-over"),y(c,r)},f=()=>{c.classList.remove("ts-drag-over")},y=(g,m)=>{m!==void 0&&(ei(m,c)?Yr(g,m):Zr(g,m))},h=()=>{var g;document.querySelectorAll(".ts-drag-over").forEach(b=>b.classList.remove("ts-drag-over")),(g=r)==null||g.classList.remove("ts-dragging"),r=void 0;var m=[];t.control.querySelectorAll("[data-value]").forEach(b=>{if(b.dataset.value){let v=b.dataset.value;v&&m.push(v)}}),t.setValue(m)};return X(c,"mousedown",l),X(c,"dragstart",u),X(c,"dragenter",p),X(c,"dragover",p),X(c,"dragleave",f),X(c,"dragend",h),c}}),t.hook("instead","lock",()=>(s=!1,e.call(t))),t.hook("instead","unlock",()=>(s=!0,n.call(t)))}const ni=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},si=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(ri(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},ri=t=>typeof t=="string"&&t.indexOf("<")>-1;function ii(t){const e=this,n=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:s=>'<div class="'+s.headerClass+'"><div class="'+s.titleRowClass+'"><span class="'+s.labelClass+'">'+s.title+'</span><a class="'+s.closeClass+'">&times;</a></div></div>'},t);e.on("initialize",()=>{var s=si(n.html(n)),r=s.querySelector("."+n.closeClass);r&&r.addEventListener("click",o=>{ni(o,!0),e.close()}),e.dropdown.insertBefore(s,e.dropdown.firstChild)})}const oi=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},ai=(t,...e)=>{var n=li(e);t=ci(t),t.map(s=>{n.map(r=>{s.classList.remove(r)})})},li=t=>{var e=[];return oi(t,n=>{typeof n=="string"&&(n=n.trim().split(/[\t\n\f\r\s]/)),Array.isArray(n)&&(e=e.concat(n))}),e.filter(Boolean)},ci=t=>(Array.isArray(t)||(t=[t]),t),ui=(t,e)=>{if(!t)return-1;e=e||t.nodeName;for(var n=0;t=t.previousElementSibling;)t.matches(e)&&n++;return n};function di(){var t=this;t.hook("instead","setCaret",e=>{t.settings.mode==="single"||!t.control.contains(t.control_input)?e=t.items.length:(e=Math.max(0,Math.min(t.items.length,e)),e!=t.caretPos&&!t.isPending&&t.controlChildren().forEach((n,s)=>{s<e?t.control_input.insertAdjacentElement("beforebegin",n):t.control.appendChild(n)})),t.caretPos=e}),t.hook("instead","moveCaret",e=>{if(!t.isFocused)return;const n=t.getLastActive(e);if(n){const s=ui(n);t.setCaret(e>0?s+1:s),t.setActiveItem(),ai(n,"last-active")}else t.setCaret(t.caretPos+e)})}const pi=27,hi=9,fi=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},mi=(t,e,n,s)=>{t.addEventListener(e,n,s)},gi=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},St=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(vi(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},vi=t=>typeof t=="string"&&t.indexOf("<")>-1,bi=(t,...e)=>{var n=yi(e);t=wi(t),t.map(s=>{n.map(r=>{s.classList.add(r)})})},yi=t=>{var e=[];return gi(t,n=>{typeof n=="string"&&(n=n.trim().split(/[\t\n\f\r\s]/)),Array.isArray(n)&&(e=e.concat(n))}),e.filter(Boolean)},wi=t=>(Array.isArray(t)||(t=[t]),t);function Oi(){const t=this;t.settings.shouldOpen=!0,t.hook("before","setup",()=>{t.focus_node=t.control,bi(t.control_input,"dropdown-input");const e=St('<div class="dropdown-input-wrap">');e.append(t.control_input),t.dropdown.insertBefore(e,t.dropdown.firstChild);const n=St('<input class="items-placeholder" tabindex="-1" />');n.placeholder=t.settings.placeholder||"",t.control.append(n)}),t.on("initialize",()=>{t.control_input.addEventListener("keydown",n=>{switch(n.keyCode){case pi:t.isOpen&&(fi(n,!0),t.close()),t.clearActiveItems();return;case hi:t.focus_node.tabIndex=-1;break}return t.onKeyDown.call(t,n)}),t.on("blur",()=>{t.focus_node.tabIndex=t.isDisabled?-1:t.tabIndex}),t.on("dropdown_open",()=>{t.control_input.focus()});const e=t.onBlur;t.hook("instead","onBlur",n=>{if(!(n&&n.relatedTarget==t.control_input))return e.call(t)}),mi(t.control_input,"blur",()=>t.onBlur()),t.hook("before","close",()=>{t.isOpen&&t.focus_node.focus({preventScroll:!0})})})}const ue=(t,e,n,s)=>{t.addEventListener(e,n,s)};function Si(){var t=this;t.on("initialize",()=>{var e=document.createElement("span"),n=t.control_input;e.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",t.wrapper.appendChild(e);var s=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const o of s)e.style[o]=n.style[o];var r=()=>{e.textContent=n.value,n.style.width=e.clientWidth+"px"};r(),t.on("update item_add item_remove",r),ue(n,"input",r),ue(n,"keyup",r),ue(n,"blur",r),ue(n,"update",r)})}function Ei(){var t=this,e=t.deleteSelection;this.hook("instead","deleteSelection",n=>t.activeItems.length?e.call(t,n):!1)}function Ai(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}const Et=37,Ci=39,xi=(t,e,n)=>{for(;t&&t.matches;){if(t.matches(e))return t;t=t.parentNode}},_i=(t,e)=>{if(!t)return-1;e=e||t.nodeName;for(var n=0;t=t.previousElementSibling;)t.matches(e)&&n++;return n};function Ti(){var t=this,e=t.onKeyDown;t.hook("instead","onKeyDown",n=>{var s,r,o,i;if(!t.isOpen||!(n.keyCode===Et||n.keyCode===Ci))return e.call(t,n);t.ignoreHover=!0,i=xi(t.activeOption,"[data-group]"),s=_i(t.activeOption,"[data-selectable]"),i&&(n.keyCode===Et?i=i.previousSibling:i=i.nextSibling,i&&(o=i.querySelectorAll("[data-selectable]"),r=o[Math.min(o.length-1,s)],r&&t.setActiveOption(r)))})}const ki=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),At=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},Ct=(t,e,n,s)=>{t.addEventListener(e,n,s)},xt=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(Ri(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},Ri=t=>typeof t=="string"&&t.indexOf("<")>-1;function Li(t){const e=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},t);var n=this;if(e.append){var s='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+ki(e.title)+'">'+e.label+"</a>";n.hook("after","setupTemplates",()=>{var r=n.settings.render.item;n.settings.render.item=(o,i)=>{var a=xt(r.call(n,o,i)),c=xt(s);return a.appendChild(c),Ct(c,"mousedown",l=>{At(l,!0)}),Ct(c,"click",l=>{n.isLocked||(At(l,!0),!n.isLocked&&n.shouldDelete([a],l)&&(n.removeItem(a),n.refreshOptions(!1),n.inputState()))}),a}})}}function Fi(t){const e=this,n=Object.assign({text:s=>s[e.settings.labelField]},t);e.on("item_remove",function(s){if(e.isFocused&&e.control_input.value.trim()===""){var r=e.options[s];r&&e.setTextboxValue(n.text.call(e,r))}})}const Ii=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},Ni=(t,...e)=>{var n=Pi(e);t=$i(t),t.map(s=>{n.map(r=>{s.classList.add(r)})})},Pi=t=>{var e=[];return Ii(t,n=>{typeof n=="string"&&(n=n.trim().split(/[\t\n\f\r\s]/)),Array.isArray(n)&&(e=e.concat(n))}),e.filter(Boolean)},$i=t=>(Array.isArray(t)||(t=[t]),t);function ji(){const t=this,e=t.canLoad,n=t.clearActiveOption,s=t.loadCallback;var r={},o,i=!1,a,c=[];if(t.settings.shouldLoadMore||(t.settings.shouldLoadMore=()=>{if(o.clientHeight/(o.scrollHeight-o.scrollTop)>.9)return!0;if(t.activeOption){var p=t.selectable(),f=Array.from(p).indexOf(t.activeOption);if(f>=p.length-2)return!0}return!1}),!t.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";t.settings.sortField=[{field:"$order"},{field:"$score"}];const l=p=>typeof t.settings.maxOptions=="number"&&o.children.length>=t.settings.maxOptions?!1:!!(p in r&&r[p]),u=(p,f)=>t.items.indexOf(f)>=0||c.indexOf(f)>=0;t.setNextUrl=(p,f)=>{r[p]=f},t.getUrl=p=>{if(p in r){const f=r[p];return r[p]=!1,f}return t.clearPagination(),t.settings.firstUrl.call(t,p)},t.clearPagination=()=>{r={}},t.hook("instead","clearActiveOption",()=>{if(!i)return n.call(t)}),t.hook("instead","canLoad",p=>p in r?l(p):e.call(t,p)),t.hook("instead","loadCallback",(p,f)=>{if(!i)t.clearOptions(u);else if(a){const y=p[0];y!==void 0&&(a.dataset.value=y[t.settings.valueField])}s.call(t,p,f),i=!1}),t.hook("after","refreshOptions",()=>{const p=t.lastValue;var f;l(p)?(f=t.render("loading_more",{query:p}),f&&(f.setAttribute("data-selectable",""),a=f)):p in r&&!o.querySelector(".no-results")&&(f=t.render("no_more_results",{query:p})),f&&(Ni(f,t.settings.optionClass),o.append(f))}),t.on("initialize",()=>{c=Object.keys(t.options),o=t.dropdown_content,t.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},t.settings.render),o.addEventListener("scroll",()=>{t.settings.shouldLoadMore.call(t)&&l(t.lastValue)&&(i||(i=!0,t.load.call(t,t.lastValue)))})})}$.define("change_listener",qr);$.define("checkbox_options",Ur);$.define("clear_button",Kr);$.define("drag_drop",ti);$.define("dropdown_header",ii);$.define("caret_position",di);$.define("dropdown_input",Oi);$.define("input_autogrow",Si);$.define("no_backspace_delete",Ei);$.define("no_active_items",Ai);$.define("optgroup_columns",Ti);$.define("remove_button",Li);$.define("restore_on_backspace",Fi);$.define("virtual_scroll",ji);const qi=t=>({init(){const e=this.$refs[`select_picker_${t.dataField}_${t.tableName}`],n={items:t.initialValues,...t.framework,onChange:o=>{Yt(t,o)},onInitialize:()=>{window.addEventListener(`pg:clear_multi_select::${t.tableName}:${t.dataField}`,()=>{e&&e.tomselect.clear(!0)}),window.addEventListener(`pg:clear_all_multi_select::${t.tableName}`,()=>{e&&e.tomselect.clear(!0)})}},s={valueField:t.optionValue,labelField:t.optionLabel,searchField:t.optionLabel,load:async function(o,i){function a(c,l){var u;const{method:p,url:f}=c,y=new Request(f,{method:p,body:p.toLowerCase()==="post"?JSON.stringify({search:l,...r}):void 0});y.headers.set("Content-Type","application/json"),y.headers.set("Accept","application/json"),y.headers.set("X-Requested-With","XMLHttpRequest");const h=(u=document.head.querySelector('[name="csrf-token"]'))==null?void 0:u.getAttribute("content");return h&&y.headers.set("X-CSRF-TOKEN",h),y}fetch(a(t.asyncData,o)).then(c=>c.json()).then(c=>{i(c)}).catch(()=>{i()})},render:{option:function(o,i){return`<div class="py-2 mb-1"><span>${i(o[t.optionLabel])}</span></div>`},item:function(o,i){return`<div class="py-2 mb-1"><span>${i(o[t.optionLabel])}</span></div>`}}};let r=n;t.hasOwnProperty("asyncData")&&(r=Object.assign(n,s)),new $(e,r)}}),Di=t=>({initialValues:t.initialValues,framework:t.framework,init(){const e=this.$refs["select_picker_"+t.dataField+"_"+t.tableName],n=this.deepCopy(this.framework);new window.SlimSelect({select:e,...n,events:{afterChange:s=>{let r=s.map(o=>o.value);Yt(t,r)}}})},deepCopy(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(this.deepCopy);const n={};for(const s in e)e.hasOwnProperty(s)&&(n[s]=this.deepCopy(e[s]));return n}}),Bi=()=>({init(){Livewire.on("pg:scrollTop",t=>{setTimeout(()=>{document.querySelector("body").scrollIntoView({behavior:"auto"})},0)}),new IntersectionObserver(t=>{t[0].isIntersecting&&this.$wire.call("loadMore")},{rootMargin:"300px"}).observe(this.$el)}}),Hi=t=>({rowId:(t==null?void 0:t.rowId)??null,parentId:(t==null?void 0:t.parentId)??null,toHtml(){let e=null;const n=this.parentId??this.$wire.id;if(this.rowId){const r=window[`pgActions_${n}`];r&&r[this.rowId]!==void 0&&(e=r[this.rowId])}else e=window[`pgActionsHeader_${n}`];if(typeof e!="object"||e===null)return"";let s="";return e.forEach(r=>{let o=this.shouldHideAction(r),i=this.getReplaceHtml(r);if(!o)if(i)s+=i;else{let a=this.buildAttributesString(r);if(r.icon){let c=this.processIcon(r);if(!c)return;s+=this.buildActionHtmlWithIcon(r,a,c)}else s+=this.buildActionHtml(r,a)}}),s},shouldHideAction(e){if(e.can===!1)return!0;let n=!1;return e.rules&&Object.values(e.rules).length>0&&Object.values(e.rules).forEach(s=>{s.action.includes(e.action)&&s.apply&&s.rule.hide&&(n=!0)}),n},getReplaceHtml(e){let n=null;return e.rules&&Object.values(e.rules).length>0&&Object.values(e.rules).forEach(s=>{s.apply&&s.action.includes(e.action)&&s.replaceHtml&&(n=s.replaceHtml)}),n},buildAttributesString(e){let n=e.attributes??[];return e.rules&&Object.values(e.rules).length>0&&Object.values(e.rules).forEach(s=>{s.apply&&s.action.includes(e.action)&&s.rule.setAttribute&&s.rule.setAttribute.length>0&&Object.values(s.rule.setAttribute).forEach(r=>{n[r.attribute]=r.value})}),Object.entries(n).map(([s,r])=>` ${s}="${r}"`).join("")},processIcon(e){const n=Object.entries(e.iconAttributes??[]).map(([r,o])=>` ${r}="${o}"`).join("");let s=window.pgResourceIcons[e.icon];return typeof s>"u"?(console.warn(`PowerGrid: Unable to load icons in javascript window in row: [${this.rowId}]`),null):this.replaceIconAttributes(s,n)},replaceIconAttributes(e,n){return e.replace(/<([^\s>]+)([^>]*)>/,(s,r,o)=>{let i=o.trim();const a=n.replace(/class="([^"]*)"/,(c,l)=>(i.includes("class=")?i=i.replace(/class="([^"]*)"/,(u,p)=>`class="${p} ${l.trim()}"`):i+=` ${c}`,""));return`<${r} ${i} ${a}>`})},buildActionHtmlWithIcon(e,n,s){return e.slot?`<${e.tag??"button"} ${n}>${s} ${e.slot}</${e.tag??"button"}>`:`<${e.tag??"button"} ${n}>${s}</${e.tag??"button"}>`},buildActionHtml(e,n){return`<${e.tag??"button"} ${n}>${e.slot}</${e.tag??"button"}>`}}),Mi=t=>({templateContent:(t==null?void 0:t.templateContent)??null,rendered:null,parentId:(t==null?void 0:t.parentId)??null,init(){const e=Object.keys(this.templateContent)[0],n=window[`pgRowTemplates_${this.parentId??this.$wire.id}`][e],s=this.templateContent[e];if(s){let r=n;for(const[o,i]of Object.entries(s)){const a=`{{ ${o} }}`,c=String(i).replace(/'/g,"\\'");r=r.replaceAll(a,c)}this.rendered=r}}}),Ui=t=>({rowId:t.rowId,rules:t.rules,defaultClasses:t.defaultClasses,attributes:[],theme:[],init(){this.rules&&Object.values(this.rules).forEach(e=>{(e.applyLoop||e.apply)&&e!=null&&e.attributes&&this.attributes.push(e.attributes)})},getAttributes(){let e={class:this.defaultClasses};return this.attributes.forEach(n=>{Object.keys(n).forEach(s=>{e[s]+=e[s]?` ${n[s]}`:n[s]})}),e}});window.pgToggleable=Hs;window.pgFlatpickr=Us;window.pgEditable=Vs;window.pgResponsive=Qs;window.pgTomSelect=qi;window.pgSlimSelect=Di;window.pgLoadMore=Bi;window.pgRenderActions=Hi;window.pgRowAttributes=Ui;window.pgRenderRowTemplate=Mi;document.addEventListener("DOMContentLoaded",()=>{Livewire.hook("commit",({component:t,succeed:e,fail:n})=>{t.ephemeral.setUp&&t.ephemeral.setUp.hasOwnProperty("responsive")&&(e(()=>{queueMicrotask(()=>{window.dispatchEvent(new CustomEvent("pg-livewire-request-finished"))})}),n(()=>{window.dispatchEvent(new CustomEvent("pg-livewire-request-finished"))}))})});document.addEventListener("DOMContentLoaded",()=>{window.Alpine.directive("multisort-shift-click",(t,{expression:e})=>{t.addEventListener("click",n=>{window.Livewire.find(e).set("multiSort",n.shiftKey)})})});
