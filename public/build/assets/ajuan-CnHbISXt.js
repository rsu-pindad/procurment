import{N as u,T as m}from"./vendor-BpA6V8xu.js";import"./vendor_chartjs-pNrZhbib.js";const p=new u({duration:1e4,position:{x:"center",y:"center"},ripple:!0,dismissible:!0,types:[{type:"info",background:"blue",icon:!1},{type:"success",background:"green",icon:!1},{type:"warning",background:"orange",icon:!1}]});function f(){[{eventName:"info-hapus",type:"warning",message:n=>n.message,dispatch:n=>Livewire.dispatch("pg:eventRefresh-user-ajuan-table-z2bm8x-table")},{eventName:"unitNotificationReceived",type:"info",dispatch:()=>Livewire.dispatch("pg:eventRefresh-user-ajuan-table-z2bm8x-table")},{eventName:"modal-stored",type:"success",message:()=>"Pengajuan berhasil dikirim.",dispatch:()=>Livewire.dispatch("pg:eventRefresh-user-ajuan-table-z2bm8x-table")},{eventName:"modal-edited",type:"info",message:()=>"Pengajuan berhasil diperbarui.",dispatch:()=>Livewire.dispatch("pg:eventRefresh-user-ajuan-table-z2bm8x-table")},{eventName:"updated-status",type:"info",message:()=>"Status berhasil dikonfirmasi.",dispatch:()=>Livewire.dispatch("pg:eventRefresh-user-ajuan-table-z2bm8x-table")},{eventName:"updated-user-role",type:"info",message:()=>"Role user berhasil dipilih."},{eventName:"updated-user-unit",type:"info",message:()=>"Unit user berhasil dipilih."}].forEach(({eventName:n,message:e,dispatch:o,type:i})=>{Livewire.on(n,(a={})=>{e&&p.open({type:i||"info",message:typeof e=="function"?e(a):e}),typeof o=="function"&&o(a)})})}function g({name:t,model:n,value:e="id",label:o="name"}){const i=document.getElementById(`tomselect-${t}`);if(!i)return;i.tomselect&&i.tomselect.destroy();const a=encodeURIComponent(n),l=encodeURIComponent(e),r=encodeURIComponent(o);new m(i,{valueField:e,labelField:o,searchField:o,maxOptions:20,plugins:["virtual_scroll"],shouldLoad:()=>!0,firstUrl:s=>`/api/remote-select?model=${a}&value=${l}&label=${r}&q=${encodeURIComponent(s)}`,load:(s,c)=>{fetch(`/api/remote-select?model=${a}&value=${l}&label=${r}&q=${encodeURIComponent(s)}`).then(d=>d.json()).then(c).catch(()=>c())},onFocus(){this.load("")},onChange(s){Livewire.dispatch(`setSelected${t}`,{id:s})},onInitialize(){const s=i.dataset.selected;s&&this.setValue(s,!0)}})}function h({name:t}){console.log("register tom "+t);const n=()=>{const e=document.getElementById(`tomselect-${t}`);if(!e)return;const o=e.dataset.model,i=e.dataset.value||"id",a=e.dataset.label||"name";g({name:t,model:o,value:i,label:a})};Livewire.on(`refresh${t}Select`,()=>{console.log("[TomSelect] Refresh triggered for kategori"),document.getElementById(`tomselect-${t}`).tomselect.enable()}),Livewire.on(`reset${t}Select`,()=>{console.log("[TomSelect] Reset triggered for kategori"),document.getElementById(`tomselect-${t}`).tomselect.disable()}),Livewire.hook("element.updated",(e,o)=>{e.id===`tomselect-${t}`&&(console.log("[TomSelect] Livewire.hook element.updated triggered"),n())}),n()}function v(){const t=()=>{h({name:"kategori"}),f()};t(),document.addEventListener("livewire:init",t)}function w(){v()}export{w as default};
